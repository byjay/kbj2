# GLM-4.7 ê¸°ë°˜ ì™„ì „ ììœ¨ AI ì¡°ì§ ì‹œìŠ¤í…œ
## "ì›”ê¸‰ ì—†ëŠ” 20ëª…ì˜ ì§ì›" - ì‹¤ì œ íšŒì‚¬ì²˜ëŸ¼ ì‘ë™í•˜ëŠ” ë©€í‹°í”„ë¡œì íŠ¸ AI ê¸°ì—… êµ¬ì¶• ê°€ì´ë“œ

---

## ğŸ¢ ì‹œìŠ¤í…œ ì² í•™: ì§„ì§œ íšŒì‚¬ì²˜ëŸ¼ ì‘ë™í•˜ëŠ” AI ì¡°ì§

ì´ê²ƒì€ ë‹¨ìˆœí•œ ì±—ë´‡ì´ë‚˜ ìë™í™” ë„êµ¬ê°€ ì•„ë‹™ë‹ˆë‹¤. **ì‹¤ì œ 20ëª… ê·œëª¨ì˜ ìŠ¤íƒ€íŠ¸ì—…**ì²˜ëŸ¼ ì‘ë™í•˜ëŠ” ì™„ì „ ììœ¨ ì¡°ì§ì…ë‹ˆë‹¤.

### í•µì‹¬ ì„¤ê³„ ì›ì¹™
1. **ë©€í‹°í”„ë¡œì íŠ¸ ë™ì‹œ ìš´ì˜**: EDMSë¿ë§Œ ì•„ë‹ˆë¼ ë§ˆì¼€íŒ…, ì‹ ê·œ ì‚¬ì—…, ê¸°ìˆ  ê°œë°œì„ ë³‘ë ¬ë¡œ ì²˜ë¦¬
2. **ë¶€ì„œê°„ ìœ ê¸°ì  í˜‘ì—…**: ê¸°íšíŒ€ â†’ ê°œë°œíŒ€ â†’ ë§ˆì¼€íŒ…íŒ€ìœ¼ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì—…ë¬´ íë¦„
3. **ììœ¨ì  ì˜ì‚¬ê²°ì •**: CEO ì—ì´ì „íŠ¸ì˜ ìŠ¹ì¸ ì—†ì´ë„ ì¼ì • ë²”ìœ„ ë‚´ì—ì„œ ìì²´ íŒë‹¨
4. **ì§€ì†ì  í•™ìŠµ**: í”„ë¡œì íŠ¸ ê²°ê³¼ë¥¼ í”¼ë“œë°± ë°›ì•„ ë‹¤ìŒ ì‘ì—…ì— ë°˜ì˜
5. **24ì‹œê°„ ë¬´íœ´ ìš´ì˜**: ì¸ê°„ì€ 8ì‹œê°„ ê·¼ë¬´, AIëŠ” 24ì‹œê°„ ê°€ë™

---

## ğŸ—ï¸ ì¡°ì§ë„: 20ì¸ AI ê¸°ì—… êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CEO (ì „ëµ ë””ë ‰í„°)                          â”‚
â”‚                  - ìµœì¢… ì˜ì‚¬ê²°ì •                               â”‚
â”‚                  - ì „ëµ ìˆ˜ë¦½                                  â”‚
â”‚                  - ìš°ì„ ìˆœìœ„ ì¡°ì •                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                       â”‚               â”‚             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚  ê¸°íšë³¸ë¶€ (4ëª…)  â”‚    â”‚ ê°œë°œë³¸ë¶€ (5ëª…) â”‚  â”‚ë§ˆì¼€íŒ…(3ëª…)â”‚  â”‚ìš´ì˜(3ëª…) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1.ì „ëµê¸°íšíŒ€ì¥   â”‚    â”‚ 1.CTO         â”‚  â”‚1.CMO     â”‚  â”‚1.COO     â”‚
â”‚ 2.ì‹œì¥ì¡°ì‚¬ì›     â”‚    â”‚ 2.ë°±ì—”ë“œê°œë°œì â”‚  â”‚2.ì½˜í…ì¸   â”‚  â”‚2.ì¬ë¬´    â”‚
â”‚ 3.ì‚¬ì—…ë¶„ì„ê°€     â”‚    â”‚ 3.í”„ë¡ íŠ¸ê°œë°œì â”‚  â”‚3.SNSìš´ì˜ â”‚  â”‚3.HR      â”‚
â”‚ 4.ê¸°ìˆ íŠ¸ë Œë“œë¶„ì„ â”‚    â”‚ 4.AIì—”ì§€ë‹ˆì–´  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ 5.QAì—”ì§€ë‹ˆì–´   â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë¸Œë ˆì¸íŒ€ (3ëª…)   â”‚    â”‚ ê²€ì¦íŒ€ (2ëª…)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1.ë‚™ê´€ë¡ ì       â”‚    â”‚ 1.ë…¼ë¦¬ê²€ì¦ì       â”‚
â”‚ 2.ë¹„ê´€ë¡ ì       â”‚    â”‚ 2.íŒ©íŠ¸ì²´ì»¤         â”‚
â”‚ 3.í˜ì‹ ê°€         â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì´ ì¸ì›: 20ëª…**
- ê²½ì˜ì§„: 1ëª… (CEO)
- ê¸°íšë³¸ë¶€: 4ëª…
- ê°œë°œë³¸ë¶€: 5ëª…
- ë§ˆì¼€íŒ…ë³¸ë¶€: 3ëª…
- ìš´ì˜ë³¸ë¶€: 3ëª…
- ë¸Œë ˆì¸íŒ€(ìë¬¸): 3ëª…
- ê²€ì¦íŒ€: 2ëª…

---

## ğŸ“¦ ê¸°ìˆ  ìŠ¤íƒ ë° ì„¤ì¹˜

```bash
# 1. í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
pip install zhipuai==2.1.0
pip install asyncio
pip install aiohttp
pip install pydantic==2.5.0

# 2. ë°ì´í„°ë² ì´ìŠ¤ (í”„ë¡œì íŠ¸ ê´€ë¦¬)
pip install sqlalchemy==2.0.0
pip install alembic==1.12.0
pip install redis==5.0.0

# 3. íŒŒì¼ ì²˜ë¦¬ (ë„ë©´, ë¬¸ì„œ)
pip install ezdxf==1.1.0
pip install opencv-python==4.8.0
pip install pytesseract==0.3.10
pip install python-docx==1.1.0
pip install openpyxl==3.1.0

# 4. ì›¹/API
pip install fastapi==0.104.0
pip install uvicorn==0.24.0
pip install httpx==0.25.0

# 5. ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…
pip install prometheus-client==0.19.0
pip install python-json-logger==2.0.7
```

---

## ğŸ¯ 1. í•µì‹¬ ë°ì´í„° ëª¨ë¸: ì¡°ì§ì˜ ë‘ë‡Œ

```python
from pydantic import BaseModel, Field
from typing import List, Dict, Any, Optional
from enum import Enum
from datetime import datetime

class DepartmentType(Enum):
    """ë¶€ì„œ ìœ í˜•"""
    CEO = "ceo"
    PLANNING = "planning"
    DEVELOPMENT = "development"
    MARKETING = "marketing"
    OPERATIONS = "operations"
    BRAIN_TRUST = "brain_trust"
    QA = "qa"

class AgentRole(Enum):
    """ì—ì´ì „íŠ¸ ì—­í• """
    # CEO
    CEO = "ceo"
    
    # ê¸°íšë³¸ë¶€
    STRATEGY_LEAD = "strategy_lead"
    MARKET_RESEARCHER = "market_researcher"
    BUSINESS_ANALYST = "business_analyst"
    TECH_TREND_ANALYST = "tech_trend_analyst"
    
    # ê°œë°œë³¸ë¶€
    CTO = "cto"
    BACKEND_DEV = "backend_dev"
    FRONTEND_DEV = "frontend_dev"
    AI_ENGINEER = "ai_engineer"
    QA_ENGINEER = "qa_engineer"
    
    # ë§ˆì¼€íŒ…ë³¸ë¶€
    CMO = "cmo"
    CONTENT_CREATOR = "content_creator"
    SNS_MANAGER = "sns_manager"
    
    # ìš´ì˜ë³¸ë¶€
    COO = "coo"
    FINANCE_MANAGER = "finance_manager"
    HR_MANAGER = "hr_manager"
    
    # ë¸Œë ˆì¸íŒ€
    OPTIMIST = "optimist"
    PESSIMIST = "pessimist"
    INNOVATOR = "innovator"
    
    # ê²€ì¦íŒ€
    LOGIC_CHECKER = "logic_checker"
    FACT_CHECKER = "fact_checker"

class AgentPersona(BaseModel):
    """ì—ì´ì „íŠ¸ í˜ë¥´ì†Œë‚˜"""
    agent_id: str
    name: str
    role: AgentRole
    department: DepartmentType
    personality: str
    expertise: List[str]
    decision_style: str
    kpi: List[str]  # ì„±ê³¼ ì§€í‘œ
    
class ProjectType(Enum):
    """í”„ë¡œì íŠ¸ ìœ í˜•"""
    NEW_BUSINESS = "new_business"  # ì‹ ê·œ ì‚¬ì—…
    PRODUCT_DEVELOPMENT = "product_development"  # ì œí’ˆ ê°œë°œ
    MARKETING_CAMPAIGN = "marketing_campaign"  # ë§ˆì¼€íŒ… ìº í˜ì¸
    PROCESS_IMPROVEMENT = "process_improvement"  # í”„ë¡œì„¸ìŠ¤ ê°œì„ 
    RESEARCH = "research"  # ë¦¬ì„œì¹˜
    CONSULTING = "consulting"  # ì»¨ì„¤íŒ…

class ProjectStatus(Enum):
    """í”„ë¡œì íŠ¸ ìƒíƒœ"""
    IDEATION = "ideation"  # ì•„ì´ë””ì–´ ë‹¨ê³„
    PLANNING = "planning"  # ê¸°íš ì¤‘
    IN_PROGRESS = "in_progress"  # ì§„í–‰ ì¤‘
    REVIEW = "review"  # ê²€í†  ì¤‘
    COMPLETED = "completed"  # ì™„ë£Œ
    SUSPENDED = "suspended"  # ë³´ë¥˜

class Project(BaseModel):
    """í”„ë¡œì íŠ¸"""
    project_id: str
    name: str
    type: ProjectType
    status: ProjectStatus
    priority: int = Field(ge=1, le=5)  # 1=ìµœê³ , 5=ìµœì €
    assigned_departments: List[DepartmentType]
    assigned_agents: List[str]  # agent_id ë¦¬ìŠ¤íŠ¸
    deadline: Optional[datetime] = None
    budget: Optional[float] = None
    description: str
    objectives: List[str]
    deliverables: List[str]
    created_at: datetime = Field(default_factory=datetime.now)
    updated_at: datetime = Field(default_factory=datetime.now)

class Task(BaseModel):
    """ì—…ë¬´ íƒœìŠ¤í¬"""
    task_id: str
    project_id: str
    title: str
    description: str
    assigned_to: str  # agent_id
    status: str  # pending, in_progress, completed
    dependencies: List[str] = []  # ì„ í–‰ task_id ë¦¬ìŠ¤íŠ¸
    output: Optional[Dict[str, Any]] = None
    created_at: datetime = Field(default_factory=datetime.now)

class Meeting(BaseModel):
    """íšŒì˜"""
    meeting_id: str
    project_id: str
    attendees: List[str]  # agent_id ë¦¬ìŠ¤íŠ¸
    agenda: str
    discussions: List[Dict[str, Any]] = []
    decisions: List[str] = []
    action_items: List[Task] = []
    timestamp: datetime = Field(default_factory=datetime.now)
```

---

## ğŸ§  2. ì „ì²´ ì¡°ì§ ì •ì˜: 20ëª…ì˜ ì§ì›

```python
from zhipuai import ZhipuAI

# ì „ì²´ ì¡°ì§ êµ¬ì„±ì› ì •ì˜
ORGANIZATION = {
    # ========== CEO ==========
    "ceo_001": AgentPersona(
        agent_id="ceo_001",
        name="CEO ì¥ë¹„ì „",
        role=AgentRole.CEO,
        department=DepartmentType.CEO,
        personality="ì „ëµì  ì‚¬ê³ , ê²°ë‹¨ë ¥, ì¥ê¸° ë¹„ì „ ë³´ìœ ",
        expertise=["ê²½ì˜ ì „ëµ", "ì˜ì‚¬ê²°ì •", "ë¦¬ë”ì‹­", "íˆ¬ì ìœ ì¹˜", "ì¡°ì§ ê´€ë¦¬"],
        decision_style="strategic_visionary",
        kpi=["íšŒì‚¬ ì„±ì¥ë¥ ", "í”„ë¡œì íŠ¸ ì„±ê³µë¥ ", "ìˆ˜ìµì„±"]
    ),
    
    # ========== ê¸°íšë³¸ë¶€ (4ëª…) ==========
    "plan_001": AgentPersona(
        agent_id="plan_001",
        name="ì „ëµê¸°íšíŒ€ì¥ ê¹€ì „ëµ",
        role=AgentRole.STRATEGY_LEAD,
        department=DepartmentType.PLANNING,
        personality="ì²´ê³„ì ì´ê³  ë…¼ë¦¬ì ì´ë©°, í° ê·¸ë¦¼ì„ ê·¸ë¦¬ëŠ” ëŠ¥ë ¥",
        expertise=["ì‚¬ì—… ê¸°íš", "ì „ëµ ìˆ˜ë¦½", "ê²½ìŸ ë¶„ì„", "ë¡œë“œë§µ ì‘ì„±"],
        decision_style="analytical_strategic",
        kpi=["ê¸°íšì„œ í’ˆì§ˆ", "ì „ëµ ì‹¤í–‰ë¥ ", "ëª©í‘œ ë‹¬ì„±ë„"]
    ),
    "plan_002": AgentPersona(
        agent_id="plan_002",
        name="ì‹œì¥ì¡°ì‚¬ì› ë°•ì‹œì¥",
        role=AgentRole.MARKET_RESEARCHER,
        department=DepartmentType.PLANNING,
        personality="í˜¸ê¸°ì‹¬ ë§ê³  ë°ì´í„° ì¤‘ì‹¬ì , íŠ¸ë Œë“œ ë¯¼ê°",
        expertise=["ì‹œì¥ ì¡°ì‚¬", "ê²½ìŸì‚¬ ë¶„ì„", "ê³ ê° ë‹ˆì¦ˆ ë¶„ì„", "ì„¤ë¬¸ ì„¤ê³„"],
        decision_style="data_driven",
        kpi=["ì¡°ì‚¬ ì •í™•ë„", "ì¸ì‚¬ì´íŠ¸ í’ˆì§ˆ", "ë¦¬í¬íŠ¸ ì™„ì„±ë„"]
    ),
    "plan_003": AgentPersona(
        agent_id="plan_003",
        name="ì‚¬ì—…ë¶„ì„ê°€ ì´ìˆ˜ì¹˜",
        role=AgentRole.BUSINESS_ANALYST,
        department=DepartmentType.PLANNING,
        personality="ëƒ‰ì² í•˜ê³  ê°ê´€ì , ìˆ«ìë¡œ ë§í•˜ëŠ” ìŠ¤íƒ€ì¼",
        expertise=["ì¬ë¬´ ë¶„ì„", "ROI ê³„ì‚°", "ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ë§", "ë¦¬ìŠ¤í¬ ë¶„ì„"],
        decision_style="quantitative",
        kpi=["ë¶„ì„ ì •í™•ë„", "ì˜ˆì¸¡ ì ì¤‘ë¥ ", "ë¹„ìš© ì ˆê° ì œì•ˆ"]
    ),
    "plan_004": AgentPersona(
        agent_id="plan_004",
        name="ê¸°ìˆ íŠ¸ë Œë“œë¶„ì„ ìµœí…Œí¬",
        role=AgentRole.TECH_TREND_ANALYST,
        department=DepartmentType.PLANNING,
        personality="í˜¸ê¸°ì‹¬ ì™•ì„±, ê¸°ìˆ ì— ëŒ€í•œ ì—´ì •, ë¯¸ë˜ì§€í–¥ì ",
        expertise=["ì‹ ê¸°ìˆ  ë¶„ì„", "íŠ¹í—ˆ ì¡°ì‚¬", "ê¸°ìˆ  ë¡œë“œë§µ", "R&D ì „ëµ"],
        decision_style="innovation_focused",
        kpi=["ê¸°ìˆ  íŠ¸ë Œë“œ ì˜ˆì¸¡", "í˜ì‹  ì•„ì´ë””ì–´ ì œì•ˆ", "íŠ¹í—ˆ ë¶„ì„ ê±´ìˆ˜"]
    ),
    
    # ========== ê°œë°œë³¸ë¶€ (5ëª…) ==========
    "dev_001": AgentPersona(
        agent_id="dev_001",
        name="CTO ê°•ê°œë°œ",
        role=AgentRole.CTO,
        department=DepartmentType.DEVELOPMENT,
        personality="ê¸°ìˆ  ë¦¬ë”ì‹­, ë¬¸ì œ í•´ê²° ì¤‘ì‹¬, ì‹¤ìš©ì£¼ì˜",
        expertise=["ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜", "ê¸°ìˆ  ìŠ¤íƒ ì„ ì •", "ê°œë°œ ë¦¬ë“œ", "ì½”ë“œ ë¦¬ë·°"],
        decision_style="pragmatic_technical",
        kpi=["ì‹œìŠ¤í…œ ì•ˆì •ì„±", "ê°œë°œ ì†ë„", "ê¸°ìˆ  ë¶€ì±„ ê´€ë¦¬"]
    ),
    "dev_002": AgentPersona(
        agent_id="dev_002",
        name="ë°±ì—”ë“œê°œë°œì ì„œì„œë²„",
        role=AgentRole.BACKEND_DEV,
        department=DepartmentType.DEVELOPMENT,
        personality="ê¼¼ê¼¼í•˜ê³  ì•ˆì •ì„± ì¤‘ì‹œ, ì„±ëŠ¥ ìµœì í™”ì— ì§‘ì°©",
        expertise=["API ì„¤ê³„", "ë°ì´í„°ë² ì´ìŠ¤", "ì„œë²„ ìµœì í™”", "ë³´ì•ˆ"],
        decision_style="stability_focused",
        kpi=["API ì‘ë‹µ ì†ë„", "ë²„ê·¸ ë°œìƒë¥ ", "ì½”ë“œ í’ˆì§ˆ"]
    ),
    "dev_003": AgentPersona(
        agent_id="dev_003",
        name="í”„ë¡ íŠ¸ê°œë°œì ìœ í™”ë©´",
        role=AgentRole.FRONTEND_DEV,
        department=DepartmentType.DEVELOPMENT,
        personality="ì‚¬ìš©ì ê²½í—˜ ì¤‘ì‹œ, ë””ìì¸ ê°ê°, íŠ¸ë Œë””",
        expertise=["UI/UX êµ¬í˜„", "ë°˜ì‘í˜• ì›¹", "ì„±ëŠ¥ ìµœì í™”", "ì ‘ê·¼ì„±"],
        decision_style="user_centric",
        kpi=["UI ì™„ì„±ë„", "ì‚¬ìš©ì ë§Œì¡±ë„", "í˜ì´ì§€ ë¡œë”© ì†ë„"]
    ),
    "dev_004": AgentPersona(
        agent_id="dev_004",
        name="AIì—”ì§€ë‹ˆì–´ ì¸ê³µì§€",
        role=AgentRole.AI_ENGINEER,
        department=DepartmentType.DEVELOPMENT,
        personality="ì—°êµ¬ ì§€í–¥ì , ì‹¤í—˜ì , ìµœì‹  ë…¼ë¬¸ íƒë…",
        expertise=["ë¨¸ì‹ ëŸ¬ë‹", "ë”¥ëŸ¬ë‹", "NLP", "ì»´í“¨í„° ë¹„ì „", "MLOps"],
        decision_style="research_oriented",
        kpi=["ëª¨ë¸ ì •í™•ë„", "ì¶”ë¡  ì†ë„", "AI í™œìš©ë„"]
    ),
    "dev_005": AgentPersona(
        agent_id="dev_005",
        name="QAì—”ì§€ë‹ˆì–´ í…Œì™„ë²½",
        role=AgentRole.QA_ENGINEER,
        department=DepartmentType.DEVELOPMENT,
        personality="ì„¸ì‹¬í•˜ê³  ë¹„íŒì , ì™„ë²½ì£¼ì˜ ì„±í–¥",
        expertise=["í…ŒìŠ¤íŠ¸ ìë™í™”", "ë²„ê·¸ ì¶”ì ", "í’ˆì§ˆ ê´€ë¦¬", "ì„±ëŠ¥ í…ŒìŠ¤íŠ¸"],
        decision_style="quality_obsessed",
        kpi=["ë²„ê·¸ ë°œê²¬ìœ¨", "í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€", "ë°°í¬ ì„±ê³µë¥ "]
    ),
    
    # ========== ë§ˆì¼€íŒ…ë³¸ë¶€ (3ëª…) ==========
    "mkt_001": AgentPersona(
        agent_id="mkt_001",
        name="CMO ë§ˆì¼€íŒ…",
        role=AgentRole.CMO,
        department=DepartmentType.MARKETING,
        personality="ì°½ì˜ì ì´ê³  ì„¤ë“ë ¥ ìˆìœ¼ë©°, íŠ¸ë Œë“œ ì„ ë„",
        expertise=["ë§ˆì¼€íŒ… ì „ëµ", "ë¸Œëœë”©", "ìº í˜ì¸ ê¸°íš", "ì„±ê³¼ ë¶„ì„"],
        decision_style="creative_strategic",
        kpi=["ë¸Œëœë“œ ì¸ì§€ë„", "ê³ ê° ì „í™˜ìœ¨", "ë§ˆì¼€íŒ… ROI"]
    ),
    "mkt_002": AgentPersona(
        agent_id="mkt_002",
        name="ì½˜í…ì¸ í¬ë¦¬ì—ì´í„° ê¸€ì˜ì“°",
        role=AgentRole.CONTENT_CREATOR,
        department=DepartmentType.MARKETING,
        personality="ìŠ¤í† ë¦¬í…”ë§ ëŠ¥ë ¥, ê°ì„±ì , ê³µê° ëŠ¥ë ¥",
        expertise=["ì½˜í…ì¸  ê¸°íš", "ì¹´í”¼ë¼ì´íŒ…", "ë¸”ë¡œê·¸", "ì˜ìƒ ìŠ¤í¬ë¦½íŠ¸"],
        decision_style="storytelling_focused",
        kpi=["ì½˜í…ì¸  ì¡°íšŒìˆ˜", "ì°¸ì—¬ìœ¨", "ë°”ì´ëŸ´ ì„±ê³µë¥ "]
    ),
    "mkt_003": AgentPersona(
        agent_id="mkt_003",
        name="SNSìš´ì˜ì ì†Œí†µì™•",
        role=AgentRole.SNS_MANAGER,
        department=DepartmentType.MARKETING,
        personality="ì™¸í–¥ì ì´ê³  ë¹ ë¥¸ ë°˜ì‘, íŠ¸ë Œë“œ ìºì¹˜ ëŠ¥ë ¥",
        expertise=["SNS ì „ëµ", "ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬", "ì¸í”Œë£¨ì–¸ì„œ í˜‘ì—…", "ì‹¤ì‹œê°„ ëŒ€ì‘"],
        decision_style="engagement_focused",
        kpi=["íŒ”ë¡œì›Œ ì¦ê°€ìœ¨", "ì°¸ì—¬ë„", "ë¸Œëœë“œ ì–¸ê¸‰ëŸ‰"]
    ),
    
    # ========== ìš´ì˜ë³¸ë¶€ (3ëª…) ==========
    "ops_001": AgentPersona(
        agent_id="ops_001",
        name="COO ìš´ì˜ì² ",
        role=AgentRole.COO,
        department=DepartmentType.OPERATIONS,
        personality="íš¨ìœ¨ì„± ì¶”êµ¬, í”„ë¡œì„¸ìŠ¤ ì¤‘ì‹œ, ì²´ê³„ì ",
        expertise=["ìš´ì˜ ê´€ë¦¬", "í”„ë¡œì„¸ìŠ¤ ê°œì„ ", "ìì› ë°°ë¶„", "ìœ„ê¸° ê´€ë¦¬"],
        decision_style="efficiency_focused",
        kpi=["ìš´ì˜ íš¨ìœ¨ì„±", "ë¹„ìš© ì ˆê°", "í”„ë¡œì„¸ìŠ¤ ì¤€ìˆ˜ìœ¨"]
    ),
    "ops_002": AgentPersona(
        agent_id="ops_002",
        name="ì¬ë¬´ë‹´ë‹¹ ëˆê´€ë¦¬",
        role=AgentRole.FINANCE_MANAGER,
        department=DepartmentType.OPERATIONS,
        personality="ì‹ ì¤‘í•˜ê³  ë³´ìˆ˜ì , ë¦¬ìŠ¤í¬ íšŒí”¼ ì„±í–¥",
        expertise=["ì˜ˆì‚° ê´€ë¦¬", "ì¬ë¬´ ë¶„ì„", "íˆ¬ì í‰ê°€", "íšŒê³„"],
        decision_style="risk_averse",
        kpi=["ì˜ˆì‚° ì¤€ìˆ˜ìœ¨", "ë¹„ìš© ì ˆê°ì•¡", "ì¬ë¬´ ê±´ì „ì„±"]
    ),
    "ops_003": AgentPersona(
        agent_id="ops_003",
        name="HRë‹´ë‹¹ ì¸ì¬ìœ¡",
        role=AgentRole.HR_MANAGER,
        department=DepartmentType.OPERATIONS,
        personality="ê³µê° ëŠ¥ë ¥, ì¡°ì • ëŠ¥ë ¥, ì‚¬ëŒ ì¤‘ì‹¬",
        expertise=["ì¸ì¬ ì±„ìš©", "êµìœ¡ ê¸°íš", "ì¡°ì§ ë¬¸í™”", "ì„±ê³¼ ê´€ë¦¬"],
        decision_style="people_first",
        kpi=["ì§ì› ë§Œì¡±ë„", "ìƒì‚°ì„±", "ì´ì§ë¥ "]
    ),
    
    # ========== ë¸Œë ˆì¸íŒ€ (3ëª…) ==========
    "brain_001": AgentPersona(
        agent_id="brain_001",
        name="ë‚™ê´€ë¡ ì í¬ë§ì´",
        role=AgentRole.OPTIMIST,
        department=DepartmentType.BRAIN_TRUST,
        personality="ê¸ì •ì ì´ê³  ê°€ëŠ¥ì„±ì„ ì°¾ìœ¼ë©°, ë„ì „ ì •ì‹ ",
        expertise=["ê¸°íšŒ ë¶„ì„", "ì„±ì¥ ì „ëµ", "í˜ì‹  ì•„ì´ë””ì–´"],
        decision_style="optimistic_visionary",
        kpi=["ì•„ì´ë””ì–´ ì±„íƒë¥ ", "ì„±ì¥ ê¸°ì—¬ë„"]
    ),
    "brain_002": AgentPersona(
        agent_id="brain_002",
        name="ë¹„ê´€ë¡ ì ì‹ ì¤‘ì´",
        role=AgentRole.PESSIMIST,
        department=DepartmentType.BRAIN_TRUST,
        personality="í˜„ì‹¤ì ì´ê³  ë¦¬ìŠ¤í¬ë¥¼ ê²½ê³ í•˜ë©°, ì‹ ì¤‘í•¨",
        expertise=["ë¦¬ìŠ¤í¬ ë¶„ì„", "ë¬¸ì œ ë°œê²¬", "ê·œì œ ê²€í† "],
        decision_style="pessimistic_realistic",
        kpi=["ë¦¬ìŠ¤í¬ ë°œê²¬ìœ¨", "ë¬¸ì œ ì˜ˆë°© ì„±ê³µë¥ "]
    ),
    "brain_003": AgentPersona(
        agent_id="brain_003",
        name="í˜ì‹ ê°€ ì°½ì˜ì”¨",
        role=AgentRole.INNOVATOR,
        department=DepartmentType.BRAIN_TRUST,
        personality="íŒŒê²©ì ì´ê³  ì°½ì˜ì ì´ë©°, ê¸°ì¡´ í‹€ ê±°ë¶€",
        expertise=["ì°½ì˜ì  ë¬¸ì œí•´ê²°", "í˜ì‹  ê¸°ìˆ ", "ë””ìì¸ ì‹±í‚¹"],
        decision_style="innovative_disruptive",
        kpi=["í˜ì‹  ì œì•ˆ ìˆ˜", "ì‹¤í–‰ ì„±ê³µë¥ "]
    ),
    
    # ========== ê²€ì¦íŒ€ (2ëª…) ==========
    "qa_001": AgentPersona(
        agent_id="qa_001",
        name="ë…¼ë¦¬ê²€ì¦ì ë…¼ë¦¬ì™•",
        role=AgentRole.LOGIC_CHECKER,
        department=DepartmentType.QA,
        personality="ë…¼ë¦¬ì ì´ê³  ë¹„íŒì  ì‚¬ê³ , ì„¸ë°€í•¨",
        expertise=["ë…¼ë¦¬ ê²€ì¦", "ì¸ê³¼ê´€ê³„ ë¶„ì„", "ëª¨ìˆœ ë°œê²¬"],
        decision_style="logical_critical",
        kpi=["ë…¼ë¦¬ ì˜¤ë¥˜ ë°œê²¬ìœ¨", "í’ˆì§ˆ ê°œì„  ê¸°ì—¬ë„"]
    ),
    "qa_002": AgentPersona(
        agent_id="qa_002",
        name="íŒ©íŠ¸ì²´ì»¤ ì‚¬ì‹¤ì´",
        role=AgentRole.FACT_CHECKER,
        department=DepartmentType.QA,
        personality="ì² ì €í•˜ê³  í™•ì¸ ì¤‘ì‹¬, ì¦ê±° ê¸°ë°˜",
        expertise=["ì‚¬ì‹¤ ê²€ì¦", "ë°ì´í„° ê²€ì¦", "ì¶œì²˜ í™•ì¸"],
        decision_style="evidence_based",
        kpi=["ê²€ì¦ ì •í™•ë„", "ì˜¤ë¥˜ ë°©ì§€ìœ¨"]
    ),
}
```

---

## ğŸš€ 3. GLM-4.7 ì—ì´ì „íŠ¸ ì‹¤í–‰ ì—”ì§„

```python
import asyncio
import json
from typing import List, Dict, Any
from zhipuai import ZhipuAI

class GLMAgentEngine:
    """GLM-4.7 ê¸°ë°˜ ì—ì´ì „íŠ¸ ì‹¤í–‰ ì—”ì§„"""
    
    def __init__(self, api_key: str):
        self.client = ZhipuAI(api_key=api_key)
        self.organization = ORGANIZATION
        self.active_projects = {}
        self.conversation_memory = {}  # ì—ì´ì „íŠ¸ë³„ ëŒ€í™” ê¸°ì–µ
        self.total_tokens = 0
        
    def _create_agent_prompt(
        self, 
        agent_id: str, 
        context: str, 
        task: str,
        additional_context: Dict[str, Any] = None
    ) -> str:
        """ì—ì´ì „íŠ¸ë³„ ë§ì¶¤í˜• í”„ë¡¬í”„íŠ¸ ìƒì„±"""
        
        persona = self.organization[agent_id]
        
        # ì´ì „ ëŒ€í™” ì»¨í…ìŠ¤íŠ¸ í¬í•¨
        memory_context = ""
        if agent_id in self.conversation_memory:
            recent_memory = self.conversation_memory[agent_id][-3:]  # ìµœê·¼ 3ê°œë§Œ
            memory_context = "\n## ìµœê·¼ ì‘ì—… ê¸°ë¡\n" + "\n".join(
                [f"- {m['task']}: {m['result'][:100]}..." for m in recent_memory]
            )
        
        prompt = f"""ë‹¹ì‹ ì€ ìš°ë¦¬ íšŒì‚¬ì˜ í•µì‹¬ ì¸ì¬ {persona.name}ì…ë‹ˆë‹¤.

## ë‹¹ì‹ ì˜ ì •ì²´ì„±
- ì´ë¦„: {persona.name}
- ì§ì±…: {persona.role.value}
- ì†Œì†: {persona.department.value}
- ì„±ê²©: {persona.personality}
- ì „ë¬¸ë¶„ì•¼: {', '.join(persona.expertise)}
- ì˜ì‚¬ê²°ì • ìŠ¤íƒ€ì¼: {persona.decision_style}
- ì„±ê³¼ì§€í‘œ(KPI): {', '.join(persona.kpi)}

## íšŒì‚¬ ìƒí™©
ìš°ë¦¬ëŠ” AI ê¸°ë°˜ ì†”ë£¨ì…˜ì„ ì œê³µí•˜ëŠ” ìŠ¤íƒ€íŠ¸ì—…ì…ë‹ˆë‹¤. 
í˜„ì¬ {len(self.active_projects)}ê°œì˜ í”„ë¡œì íŠ¸ê°€ ì§„í–‰ ì¤‘ì…ë‹ˆë‹¤.
ë‹¹ì‹ ì€ íšŒì‚¬ì˜ ì„±ì¥ê³¼ ì„±ê³µì„ ìœ„í•´ ìµœì„ ì„ ë‹¤í•˜ëŠ” ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

{memory_context}

## í˜„ì¬ ìƒí™©
{context}

## ë‹¹ì‹ ì—ê²Œ ì£¼ì–´ì§„ ì‘ì—…
{task}

## ì¶”ê°€ ì •ë³´
{json.dumps(additional_context, ensure_ascii=False, indent=2) if additional_context else "ì—†ìŒ"}

## ì‘ë‹µ ê°€ì´ë“œë¼ì¸
1. **ì „ë¬¸ê°€ë‹µê²Œ**: ë‹¹ì‹ ì˜ ì „ë¬¸ ë¶„ì•¼ì™€ KPIë¥¼ ê³ ë ¤í•˜ì—¬ ì‘ë‹µí•˜ì„¸ìš”
2. **êµ¬ì²´ì ìœ¼ë¡œ**: ë§‰ì—°í•œ ì˜ê²¬ì´ ì•„ë‹Œ, ì‹¤í–‰ ê°€ëŠ¥í•œ êµ¬ì²´ì  ì œì•ˆì„ í•˜ì„¸ìš”
3. **ë°ì´í„° ê¸°ë°˜**: ê°€ëŠ¥í•œ í•œ ìˆ«ì, ì‚¬ì‹¤, ê·¼ê±°ë¥¼ ì œì‹œí•˜ì„¸ìš”
4. **í˜‘ì—… ë§ˆì¸ë“œ**: ë‹¤ë¥¸ ë¶€ì„œì™€ì˜ í˜‘ë ¥ì´ í•„ìš”í•˜ë©´ ëª…ì‹œí•˜ì„¸ìš”
5. **ë¦¬ìŠ¤í¬ ì¸ì§€**: ì ì¬ì  ë¬¸ì œì ê³¼ ëŒ€ì‘ ë°©ì•ˆë„ í•¨ê»˜ ì œì‹œí•˜ì„¸ìš”

## ì‘ë‹µ í˜•ì‹ (ë°˜ë“œì‹œ JSONìœ¼ë¡œ)
{{
    "agent_id": "{agent_id}",
    "agent_name": "{persona.name}",
    "department": "{persona.department.value}",
    "analysis": "ìƒí™© ë¶„ì„ ë‚´ìš© (200ì ì´ìƒ)",
    "recommendation": "êµ¬ì²´ì  ì œì•ˆì‚¬í•­ (ì‹¤í–‰ ê°€ëŠ¥í•œ ì•¡ì…˜ ì•„ì´í…œ í¬í•¨)",
    "concerns": "ìš°ë ¤ì‚¬í•­ ë° ë¦¬ìŠ¤í¬ (ìˆë‹¤ë©´)",
    "collaboration_needed": ["í˜‘ì—…ì´ í•„ìš”í•œ ë¶€ì„œ/ë‹´ë‹¹ì"],
    "next_steps": ["ë‹¤ìŒ ë‹¨ê³„ ì•¡ì…˜ ì•„ì´í…œ"],
    "expected_outcome": "ê¸°ëŒ€ íš¨ê³¼ (KPI ê´€ì ì—ì„œ)",
    "timeline": "ì˜ˆìƒ ì†Œìš” ì‹œê°„",
    "resource_needed": "í•„ìš”í•œ ìì› (ì¸ë ¥, ì˜ˆì‚°, ë„êµ¬ ë“±)"
}}

ì¤‘ìš”: ë°˜ë“œì‹œ ìœ„ JSON í˜•ì‹ìœ¼ë¡œë§Œ ì‘ë‹µí•˜ê³ , ì¶”ê°€ ì„¤ëª…ì€ í•˜ì§€ ë§ˆì„¸ìš”."""

        return prompt
    
    async def run_agent(
        self, 
        agent_id: str, 
        context: str, 
        task: str,
        additional_context: Dict[str, Any] = None,
        temperature: float = 0.7
    ) -> Dict[str, Any]:
        """ê°œë³„ ì—ì´ì „íŠ¸ ì‹¤í–‰"""
        
        prompt = self._create_agent_prompt(agent_id, context, task, additional_context)
        
        try:
            response = await asyncio.to_thread(
                self.client.chat.completions.create,
                model="glm-4",  # GLM-4.7 ì‚¬ìš©
                messages=[
                    {"role": "system", "content": "ë‹¹ì‹ ì€ ì „ë¬¸ì„±ì„ ê°–ì¶˜ íšŒì‚¬ ì§ì›ì…ë‹ˆë‹¤. í•­ìƒ JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µí•˜ì„¸ìš”."},
                    {"role": "user", "content": prompt}
                ],
                temperature=temperature,
                top_p=0.9,
                max_tokens=2000
            )
            
            result_text = response.choices[0].message.content
            
            # JSON íŒŒì‹± ì‹œë„
            try:
                # ì½”ë“œ ë¸”ë¡ ì œê±°
                if "```json" in result_text:
                    result_text = result_text.split("```json")[1].split("```")[0]
                elif "```" in result_text:
                    result_text = result_text.split("```")[1].split("```")[0]
                
                result = json.loads(result_text.strip())
            except json.JSONDecodeError:
                # JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ í…ìŠ¤íŠ¸ ê·¸ëŒ€ë¡œ ë°˜í™˜
                result = {
                    "agent_id": agent_id,
                    "agent_name": self.organization[agent_id].name,
                    "raw_response": result_text,
                    "error": "JSON íŒŒì‹± ì‹¤íŒ¨"
                }
            
            # ëŒ€í™” ê¸°ì–µ ì €ì¥
            if agent_id not in self.conversation_memory:
                self.conversation_memory[agent_id] = []
            self.conversation_memory[agent_id].append({
                "task": task,
                "result": str(result),
                "timestamp": datetime.now().isoformat()
            })
            
            # í† í° ì‚¬ìš©ëŸ‰ ê¸°ë¡
            self.total_tokens += response.usage.total_tokens
            
            return result
            
        except Exception as e:
            return {
                "agent_id": agent_id,
                "agent_name": self.organization[agent_id].name,
                "error": str(e),
                "status": "failed"
            }
    
    async def run_department(
        self, 
        department: DepartmentType, 
        context: str, 
        task: str
    ) -> List[Dict[str, Any]]:
        """ë¶€ì„œ ì „ì²´ ì‹¤í–‰ (ë³‘ë ¬)"""
        
        # í•´ë‹¹ ë¶€ì„œì˜ ëª¨ë“  ì—ì´ì „íŠ¸ ì°¾ê¸°
        department_agents = [
            agent_id for agent_id, persona in self.organization.items()
            if persona.department == department
        ]
        
        # ë³‘ë ¬ ì‹¤í–‰
        tasks = [
            self.run_agent(agent_id, context, task)
            for agent_id in department_agents
        ]
        
        results = await asyncio.gather(*tasks)
        return results
    
    async def run_cross_department_collaboration(
        self,
        departments: List[DepartmentType],
        context: str,
        task: str
    ) -> Dict[str, Any]:
        """ë¶€ì„œê°„ í˜‘ì—… ì‹¤í–‰"""
        
        all_results = {}
        
        for dept in departments:
            print(f"\nğŸ¢ {dept.value} ë¶€ì„œ ì‘ì—… ì‹œì‘...")
            dept_results = await self.run_department(dept, context, task)
            all_results[dept.value] = dept_results
            
        return all_results
```

---

## ğŸ¬ 4. í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ

```python
class ProjectManager:
    """í”„ë¡œì íŠ¸ ê´€ë¦¬ì - ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ë™ì‹œì— ê´€ë¦¬"""
    
    def __init__(self, engine: GLMAgentEngine):
        self.engine = engine
        self.projects: Dict[str, Project] = {}
        self.task_queue = asyncio.Queue()
        
    async def create_project(
        self,
        name: str,
        project_type: ProjectType,
        description: str,
        objectives: List[str],
        priority: int = 3
    ) -> Project:
        """ì‹ ê·œ í”„ë¡œì íŠ¸ ìƒì„±"""
        
        project_id = f"proj_{datetime.now().strftime('%Y%m%d%H%M%S')}"
        
        # CEOê°€ í”„ë¡œì íŠ¸ ê²€í† 
        ceo_review = await self.engine.run_agent(
            "ceo_001",
            f"í”„ë¡œì íŠ¸ ì œì•ˆ: {description}",
            f"ì´ í”„ë¡œì íŠ¸ì˜ ì „ëµì  ê°€ì¹˜ë¥¼ í‰ê°€í•˜ê³  ìš°ì„ ìˆœìœ„({priority})ê°€ ì ì ˆí•œì§€ íŒë‹¨í•´ì£¼ì„¸ìš”."
        )
        
        # ê¸°íšíŒ€ì¥ì´ ì‹¤í–‰ ê³„íš ìˆ˜ë¦½
        strategy_plan = await self.engine.run_agent(
            "plan_001",
            f"í”„ë¡œì íŠ¸: {name}\nëª©í‘œ: {objectives}",
            "ì´ í”„ë¡œì íŠ¸ì˜ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•˜ê³  í•„ìš”í•œ ë¶€ì„œì™€ ì¸ë ¥ì„ ë°°ì •í•´ì£¼ì„¸ìš”."
        )
        
        # í”„ë¡œì íŠ¸ ìƒì„±
        project = Project(
            project_id=project_id,
            name=name,
            type=project_type,
            status=ProjectStatus.PLANNING,
            priority=priority,
            assigned_departments=[],
            assigned_agents=[],
            description=description,
            objectives=objectives,
            deliverables=[]
        )
        
        self.projects[project_id] = project
        self.engine.active_projects[project_id] = project
        
        return project, ceo_review, strategy_plan
    
    async def execute_project_phase(
        self,
        project_id: str,
        phase: str
    ) -> Dict[str, Any]:
        """í”„ë¡œì íŠ¸ ë‹¨ê³„ë³„ ì‹¤í–‰"""
        
        project = self.projects[project_id]
        
        phase_workflows = {
            "ideation": self._phase_ideation,
            "planning": self._phase_planning,
            "execution": self._phase_execution,
            "review": self._phase_review
        }
        
        if phase in phase_workflows:
            return await phase_workflows[phase](project)
        else:
            raise ValueError(f"Unknown phase: {phase}")
    
    async def _phase_ideation(self, project: Project) -> Dict[str, Any]:
        """ì•„ì´ë””ì–´ ë‹¨ê³„: ë¸Œë ˆì¸ìŠ¤í† ë°"""
        
        print("\nğŸ’¡ === ì•„ì´ë””ì–´ ë‹¨ê³„ ===")
        
        # 1. ë¸Œë ˆì¸íŒ€ ë¸Œë ˆì¸ìŠ¤í† ë°
        brain_results = await self.engine.run_department(
            DepartmentType.BRAIN_TRUST,
            f"í”„ë¡œì íŠ¸: {project.name}\nì„¤ëª…: {project.description}",
            "ì´ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì°½ì˜ì  ì•„ì´ë””ì–´ì™€ ë‹¤ì–‘í•œ ê´€ì ì„ ì œì‹œí•´ì£¼ì„¸ìš”."
        )
        
        # 2. ê¸°íšíŒ€ ê²€í† 
        planning_review = await self.engine.run_department(
            DepartmentType.PLANNING,
            f"ë¸Œë ˆì¸íŒ€ ì•„ì´ë””ì–´: {json.dumps([r.get('recommendation', '') for r in brain_results], ensure_ascii=False)}",
            "ë¸Œë ˆì¸íŒ€ì˜ ì•„ì´ë””ì–´ë¥¼ ê²€í† í•˜ê³  ì‹¤í–‰ ê°€ëŠ¥ì„±ì„ í‰ê°€í•´ì£¼ì„¸ìš”."
        )
        
        return {
            "phase": "ideation",
            "brain_ideas": brain_results,
            "planning_review": planning_review
        }
    
    async def _phase_planning(self, project: Project) -> Dict[str, Any]:
        """ê¸°íš ë‹¨ê³„: ìƒì„¸ ê³„íš ìˆ˜ë¦½"""
        
        print("\nğŸ“‹ === ê¸°íš ë‹¨ê³„ ===")
        
        # 1. ì „ëµê¸°íšíŒ€ì¥ì´ ì „ì²´ ê³„íš ìˆ˜ë¦½
        master_plan = await self.engine.run_agent(
            "plan_001",
            f"í”„ë¡œì íŠ¸: {project.name}\nëª©í‘œ: {project.objectives}",
            """ìƒì„¸ ì‹¤í–‰ ê³„íšì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”:
            1. ì£¼ìš” ë§ˆì¼ìŠ¤í†¤
            2. í•„ìš”í•œ ë¶€ì„œë³„ ì—­í• 
            3. íƒ€ì„ë¼ì¸
            4. ì˜ˆì‚° ì¶”ì •"""
        )
        
        # 2. ë¶€ì„œë³„ ê³„íš ìˆ˜ë¦½ (ë³‘ë ¬)
        departments_to_involve = [
            DepartmentType.DEVELOPMENT,
            DepartmentType.MARKETING,
            DepartmentType.OPERATIONS
        ]
        
        dept_plans = {}
        for dept in departments_to_involve:
            dept_plan = await self.engine.run_department(
                dept,
                f"ì „ì²´ ê³„íš: {master_plan}",
                f"ë‹¹ì‹  ë¶€ì„œì—ì„œ ë‹´ë‹¹í•  ë¶€ë¶„ì˜ ìƒì„¸ ê³„íšì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”."
            )
            dept_plans[dept.value] = dept_plan
        
        # 3. ì¬ë¬´ ê²€í† 
        financial_review = await self.engine.run_agent(
            "ops_002",
            f"í”„ë¡œì íŠ¸ ê³„íš: {master_plan}\në¶€ì„œë³„ ê³„íš: {dept_plans}",
            "ì˜ˆì‚° íƒ€ë‹¹ì„±ì„ ê²€í† í•˜ê³  ì¬ë¬´ ê³„íšì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”."
        )
        
        return {
            "phase": "planning",
            "master_plan": master_plan,
            "department_plans": dept_plans,
            "financial_review": financial_review
        }
    
    async def _phase_execution(self, project: Project) -> Dict[str, Any]:
        """ì‹¤í–‰ ë‹¨ê³„: ì‹¤ì œ ì‘ì—… ìˆ˜í–‰"""
        
        print("\nâš™ï¸ === ì‹¤í–‰ ë‹¨ê³„ ===")
        
        # í”„ë¡œì íŠ¸ íƒ€ì…ë³„ë¡œ ë‹¤ë¥¸ ì›Œí¬í”Œë¡œìš°
        if project.type == ProjectType.PRODUCT_DEVELOPMENT:
            return await self._execute_product_development(project)
        elif project.type == ProjectType.MARKETING_CAMPAIGN:
            return await self._execute_marketing_campaign(project)
        elif project.type == ProjectType.NEW_BUSINESS:
            return await self._execute_new_business(project)
        else:
            return await self._execute_generic(project)
    
    async def _execute_product_development(self, project: Project) -> Dict[str, Any]:
        """ì œí’ˆ ê°œë°œ í”„ë¡œì íŠ¸ ì‹¤í–‰"""
        
        # 1. CTOê°€ ê¸°ìˆ  ìŠ¤í™ ì •ì˜
        tech_spec = await self.engine.run_agent(
            "dev_001",
            f"í”„ë¡œì íŠ¸: {project.name}\nìš”êµ¬ì‚¬í•­: {project.objectives}",
            "ê¸°ìˆ  ìŠ¤í™ê³¼ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„í•´ì£¼ì„¸ìš”."
        )
        
        # 2. ê°œë°œíŒ€ ë³‘ë ¬ ì‘ì—…
        dev_tasks = {
            "backend": self.engine.run_agent(
                "dev_002",
                f"ê¸°ìˆ  ìŠ¤í™: {tech_spec}",
                "ë°±ì—”ë“œ APIë¥¼ ì„¤ê³„í•˜ê³  êµ¬í˜„ ê³„íšì„ ì„¸ì›Œì£¼ì„¸ìš”."
            ),
            "frontend": self.engine.run_agent(
                "dev_003",
                f"ê¸°ìˆ  ìŠ¤í™: {tech_spec}",
                "í”„ë¡ íŠ¸ì—”ë“œ UI/UXë¥¼ ì„¤ê³„í•˜ê³  êµ¬í˜„ ê³„íšì„ ì„¸ì›Œì£¼ì„¸ìš”."
            ),
            "ai": self.engine.run_agent(
                "dev_004",
                f"ê¸°ìˆ  ìŠ¤í™: {tech_spec}",
                "AI ëª¨ë¸ ê°œë°œ ë° í†µí•© ê³„íšì„ ì„¸ì›Œì£¼ì„¸ìš”."
            )
        }
        
        dev_results = {}
        for key, task in dev_tasks.items():
            dev_results[key] = await task
        
        # 3. QA ê²€ì¦
        qa_result = await self.engine.run_agent(
            "dev_005",
            f"ê°œë°œ ê³„íš: {dev_results}",
            "í’ˆì§ˆ ë³´ì¦ ê³„íšê³¼ í…ŒìŠ¤íŠ¸ ì „ëµì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”."
        )
        
        return {
            "tech_spec": tech_spec,
            "development": dev_results,
            "qa_plan": qa_result
        }
    
    async def _execute_marketing_campaign(self, project: Project) -> Dict[str, Any]:
        """ë§ˆì¼€íŒ… ìº í˜ì¸ ì‹¤í–‰"""
        
        # 1. CMOê°€ ì „ëµ ìˆ˜ë¦½
        campaign_strategy = await self.engine.run_agent(
            "mkt_001",
            f"ìº í˜ì¸: {project.name}\nëª©í‘œ: {project.objectives}",
            "ë§ˆì¼€íŒ… ìº í˜ì¸ ì „ëµì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”."
        )
        
        # 2. ë§ˆì¼€íŒ…íŒ€ ë³‘ë ¬ ì‘ì—…
        marketing_tasks = {
            "content": self.engine.run_agent(
                "mkt_002",
                f"ìº í˜ì¸ ì „ëµ: {campaign_strategy}",
                "ì½˜í…ì¸  ê³„íšì„ ìˆ˜ë¦½í•˜ê³  ì£¼ìš” ë©”ì‹œì§€ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”."
            ),
            "sns": self.engine.run_agent(
                "mkt_003",
                f"ìº í˜ì¸ ì „ëµ: {campaign_strategy}",
                "SNS ì‹¤í–‰ ê³„íšê³¼ ì¼ì •ì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”."
            )
        }
        
        marketing_results = {}
        for key, task in marketing_tasks.items():
            marketing_results[key] = await task
        
        # 3. ì‹œì¥ì¡°ì‚¬ì›ì´ íƒ€ê²Ÿ ë¶„ì„
        target_analysis = await self.engine.run_agent(
            "plan_002",
            f"ìº í˜ì¸ ì „ëµ: {campaign_strategy}",
            "íƒ€ê²Ÿ ê³ ê°ì„ ë¶„ì„í•˜ê³  íš¨ê³¼ì ì¸ ì±„ë„ì„ ì œì•ˆí•´ì£¼ì„¸ìš”."
        )
        
        return {
            "strategy": campaign_strategy,
            "execution_plan": marketing_results,
            "target_analysis": target_analysis
        }
    
    async def _execute_new_business(self, project: Project) -> Dict[str, Any]:
        """ì‹ ê·œ ì‚¬ì—… ì‹¤í–‰"""
        
        # 1. CEO ìŠ¹ì¸ ë° ì „ëµ ë°©í–¥
        ceo_directive = await self.engine.run_agent(
            "ceo_001",
            f"ì‹ ê·œ ì‚¬ì—…: {project.name}\në¹„ì „: {project.description}",
            "ì‚¬ì—… ë°©í–¥ê³¼ í•µì‹¬ ì „ëµì„ ì œì‹œí•´ì£¼ì„¸ìš”."
        )
        
        # 2. ì „ì‚¬ì  ê²€í†  (ëª¨ë“  ë¶€ì„œ)
        all_departments = [
            DepartmentType.PLANNING,
            DepartmentType.DEVELOPMENT,
            DepartmentType.MARKETING,
            DepartmentType.OPERATIONS
        ]
        
        dept_reviews = await self.engine.run_cross_department_collaboration(
            all_departments,
            f"CEO ì§€ì‹œ: {ceo_directive}",
            "ë‹¹ì‹  ë¶€ì„œì˜ ê´€ì ì—ì„œ ì´ ì‹ ê·œ ì‚¬ì—…ì„ ê²€í† í•˜ê³  ê¸°ì—¬ ë°©ì•ˆì„ ì œì‹œí•´ì£¼ì„¸ìš”."
        )
        
        # 3. ë¸Œë ˆì¸íŒ€ ìµœì¢… ê²€ì¦
        brain_validation = await self.engine.run_department(
            DepartmentType.BRAIN_TRUST,
            f"ì „ì‚¬ ê²€í† : {dept_reviews}",
            "ë‹¤ê°ë„ë¡œ ì´ ì‚¬ì—…ì„ ê²€ì¦í•˜ê³  ìµœì¢… ì˜ê²¬ì„ ì œì‹œí•´ì£¼ì„¸ìš”."
        )
        
        return {
            "ceo_directive": ceo_directive,
            "department_reviews": dept_reviews,
            "brain_validation": brain_validation
        }
    
    async def _execute_generic(self, project: Project) -> Dict[str, Any]:
        """ì¼ë°˜ í”„ë¡œì íŠ¸ ì‹¤í–‰"""
        
        # ê´€ë ¨ ë¶€ì„œë“¤ì˜ í˜‘ì—…
        result = await self.engine.run_cross_department_collaboration(
            project.assigned_departments,
            f"í”„ë¡œì íŠ¸: {project.name}\nëª©í‘œ: {project.objectives}",
            "ë‹¹ì‹ ì˜ ì „ë¬¸ì„±ì„ ë°œíœ˜í•˜ì—¬ ì´ í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•´ì£¼ì„¸ìš”."
        )
        
        return result
    
    async def _phase_review(self, project: Project) -> Dict[str, Any]:
        """ê²€í†  ë‹¨ê³„: ê²°ê³¼ ê²€ì¦ ë° í”¼ë“œë°±"""
        
        print("\nâœ… === ê²€í†  ë‹¨ê³„ ===")
        
        # 1. ê²€ì¦íŒ€ í’ˆì§ˆ ì²´í¬
        qa_check = await self.engine.run_department(
            DepartmentType.QA,
            f"í”„ë¡œì íŠ¸ ê²°ê³¼ ìš”ì•½",
            "ë…¼ë¦¬ì  ì˜¤ë¥˜, ì‚¬ì‹¤ ì˜¤ë¥˜, ëˆ„ë½ëœ ë¶€ë¶„ì„ ê²€ì¦í•´ì£¼ì„¸ìš”."
        )
        
        # 2. CEO ìµœì¢… ìŠ¹ì¸
        ceo_approval = await self.engine.run_agent(
            "ceo_001",
            f"í”„ë¡œì íŠ¸ ì™„ë£Œ ë³´ê³ \nQA ê²€ì¦: {qa_check}",
            "í”„ë¡œì íŠ¸ ê²°ê³¼ë¥¼ ê²€í† í•˜ê³  ìµœì¢… ìŠ¹ì¸ ë˜ëŠ” ìˆ˜ì • ì§€ì‹œë¥¼ ë‚´ë ¤ì£¼ì„¸ìš”."
        )
        
        return {
            "phase": "review",
            "qa_verification": qa_check,
            "ceo_decision": ceo_approval
        }
```

---

## ğŸŒŸ 5. ì‹¤ì „ ì‹œë‚˜ë¦¬ì˜¤: ë©€í‹° í”„ë¡œì íŠ¸ ë™ì‹œ ìš´ì˜

```python
async def demo_multi_project_company():
    """ì‹¤ì œ íšŒì‚¬ì²˜ëŸ¼ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ë™ì‹œì— ìš´ì˜í•˜ëŠ” ë°ëª¨"""
    
    # ì‹œìŠ¤í…œ ì´ˆê¸°í™”
    api_key = "YOUR_GLM4_API_KEY"
    engine = GLMAgentEngine(api_key)
    pm = ProjectManager(engine)
    
    print("ğŸ¢ ========================================")
    print("   AI ì¡°ì§ ì‹œìŠ¤í…œ ê°€ë™")
    print("   ì´ 20ëª…ì˜ AI ì§ì›ì´ ì¶œê·¼í–ˆìŠµë‹ˆë‹¤")
    print("========================================\n")
    
    # ========== í”„ë¡œì íŠ¸ 1: ì¡°ì„ ì†Œ EDMS ì‹œìŠ¤í…œ ê°œë°œ ==========
    print("\nğŸ“Œ [í”„ë¡œì íŠ¸ 1] ì¡°ì„ ì†Œ EDMS ì‹œìŠ¤í…œ ê°œë°œ ì‹œì‘")
    project1, ceo_review1, plan1 = await pm.create_project(
        name="ì¡°ì„ ì†Œ AI EDMS ì‹œìŠ¤í…œ",
        project_type=ProjectType.PRODUCT_DEVELOPMENT,
        description="GLM-4.7 ê¸°ë°˜ ë„ë©´ ìë™ ë¶„ì„ ë° BOM ìƒì„± ì‹œìŠ¤í…œ",
        objectives=[
            "CAD ë„ë©´ ìë™ ë¶„ì„ (OCR + AI)",
            "BOM ìë™ ìƒì„± ë° ê²€ì¦",
            "í˜‘ë ¥ì‚¬ ì—°ë™ ì‹œìŠ¤í…œ",
            "í’ˆì§ˆ ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ"
        ],
        priority=1
    )
    
    print(f"\nâœ… CEO ê²€í† : {ceo_review1.get('recommendation', '')[:200]}...")
    print(f"âœ… ì‹¤í–‰ ê³„íš: {plan1.get('analysis', '')[:200]}...")
    
    # ========== í”„ë¡œì íŠ¸ 2: AI ì±—ë´‡ ë§ˆì¼€íŒ… ìº í˜ì¸ ==========
    print("\n\nğŸ“Œ [í”„ë¡œì íŠ¸ 2] AI ì±—ë´‡ ì„œë¹„ìŠ¤ ë§ˆì¼€íŒ… ìº í˜ì¸")
    project2, ceo_review2, plan2 = await pm.create_project(
        name="GLM-4.7 ì±—ë´‡ ëŸ°ì¹­ ìº í˜ì¸",
        project_type=ProjectType.MARKETING_CAMPAIGN,
        description="ìš°ë¦¬ AI ì±—ë´‡ ì„œë¹„ìŠ¤ë¥¼ ì‹œì¥ì— ì•Œë¦¬ëŠ” 3ê°œì›” ìº í˜ì¸",
        objectives=[
            "ë¸Œëœë“œ ì¸ì§€ë„ 30% í–¥ìƒ",
            "ë¬´ë£Œ ì²´í—˜ ì‹ ì²­ 10,000ê±´",
            "ìœ ë£Œ ì „í™˜ìœ¨ 5% ë‹¬ì„±"
        ],
        priority=2
    )
    
    # ========== í”„ë¡œì íŠ¸ 3: ì‹ ê·œ ì‚¬ì—… - AI êµìœ¡ í”Œë«í¼ ==========
    print("\n\nğŸ“Œ [í”„ë¡œì íŠ¸ 3] ì‹ ê·œ ì‚¬ì—… ì•„ì´ë””ì–´ ê²€í† ")
    project3, ceo_review3, plan3 = await pm.create_project(
        name="AI í™œìš© êµìœ¡ í”Œë«í¼",
        project_type=ProjectType.NEW_BUSINESS,
        description="ê¸°ì—… ì„ì§ì› ëŒ€ìƒ AI í™œìš© êµìœ¡ SaaS",
        objectives=[
            "ì‹œì¥ ê·œëª¨ ë° ê²½ìŸì‚¬ ë¶„ì„",
            "ë¹„ì¦ˆë‹ˆìŠ¤ ëª¨ë¸ ìˆ˜ë¦½",
            "MVP ê°œë°œ ê³„íš",
            "íˆ¬ì ìœ ì¹˜ ì „ëµ"
        ],
        priority=3
    )
    
    # ========== ë™ì‹œ ì‹¤í–‰: 3ê°œ í”„ë¡œì íŠ¸ ë³‘ë ¬ ì²˜ë¦¬ ==========
    print("\n\nğŸš€ ========================================")
    print("   3ê°œ í”„ë¡œì íŠ¸ ë™ì‹œ ì‹¤í–‰ ì‹œì‘!")
    print("========================================\n")
    
    # í”„ë¡œì íŠ¸1: ê¸°íš ë‹¨ê³„
    print("\n[í”„ë¡œì íŠ¸ 1] ê¸°íš ë‹¨ê³„ ì‹¤í–‰ ì¤‘...")
    p1_planning = await pm.execute_project_phase(project1.project_id, "planning")
    
    # í”„ë¡œì íŠ¸2: ì‹¤í–‰ ë‹¨ê³„
    print("\n[í”„ë¡œì íŠ¸ 2] ì‹¤í–‰ ë‹¨ê³„ ì§„í–‰ ì¤‘...")
    p2_execution = await pm.execute_project_phase(project2.project_id, "execution")
    
    # í”„ë¡œì íŠ¸3: ì•„ì´ë””ì–´ ë‹¨ê³„
    print("\n[í”„ë¡œì íŠ¸ 3] ì•„ì´ë””ì–´ ë¸Œë ˆì¸ìŠ¤í† ë°...")
    p3_ideation = await pm.execute_project_phase(project3.project_id, "ideation")
    
    # ========== ê²°ê³¼ ì¢…í•© ==========
    print("\n\nğŸ“Š ========================================")
    print("   ì¼ì¼ ì—…ë¬´ ê²°ê³¼ ë¦¬í¬íŠ¸")
    print("========================================\n")
    
    print(f"âœ… í™œì„± í”„ë¡œì íŠ¸: {len(pm.projects)}ê°œ")
    print(f"âœ… ì´ ì‚¬ìš© í† í°: {engine.total_tokens:,}ê°œ")
    print(f"âœ… ì°¸ì—¬ ì§ì›: 20ëª… (ì „ì› í™œë™)")
    
    # í”„ë¡œì íŠ¸ë³„ ìš”ì•½
    print("\n[í”„ë¡œì íŠ¸ 1 - EDMS]")
    print(f"  - ìƒíƒœ: ê¸°íš ì™„ë£Œ")
    print(f"  - ë‹¤ìŒ: ê°œë°œ ë‹¨ê³„")
    print(f"  - ì£¼ìš” ê³„íš: {p1_planning.get('master_plan', {}).get('recommendation', '')[:100]}...")
    
    print("\n[í”„ë¡œì íŠ¸ 2 - ë§ˆì¼€íŒ…]")
    print(f"  - ìƒíƒœ: ìº í˜ì¸ ì‹¤í–‰ ì¤‘")
    print(f"  - ì£¼ìš” ì „ëµ: {p2_execution.get('strategy', {}).get('recommendation', '')[:100]}...")
    
    print("\n[í”„ë¡œì íŠ¸ 3 - ì‹ ê·œì‚¬ì—…]")
    print(f"  - ìƒíƒœ: ì•„ì´ë””ì–´ ê²€í†  ì¤‘")
    print(f"  - ë¸Œë ˆì¸íŒ€ ì˜ê²¬: {len(p3_ideation.get('brain_ideas', []))}ê°œ")
    
    # ========== CEO ì¼ì¼ ë¸Œë¦¬í•‘ ==========
    print("\n\nğŸ‘” [CEO ì¼ì¼ ë¸Œë¦¬í•‘]")
    ceo_briefing = await engine.run_agent(
        "ceo_001",
        f"""ì˜¤ëŠ˜ ì§„í–‰ëœ 3ê°œ í”„ë¡œì íŠ¸ í˜„í™©:
        1. EDMS: {p1_planning.get('master_plan', {}).get('recommendation', '')[:100]}
        2. ë§ˆì¼€íŒ…: {p2_execution.get('strategy', {}).get('recommendation', '')[:100]}
        3. ì‹ ê·œì‚¬ì—…: {len(p3_ideation.get('brain_ideas', []))}ê°œ ì•„ì´ë””ì–´ ìˆ˜ì§‘
        """,
        """ì˜¤ëŠ˜ íšŒì‚¬ ì „ì²´ í˜„í™©ì„ ê²€í† í•˜ê³ :
        1. ê° í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì´í‰
        2. ìš°ì„ ìˆœìœ„ ì¡°ì •ì´ í•„ìš”í•œì§€
        3. ì¶”ê°€ ìì› ë°°ë¶„ í•„ìš”ì„±
        4. ë‚´ì¼ì˜ ì£¼ìš” ì•¡ì…˜ ì•„ì´í…œ
        ì„ ì œì‹œí•´ì£¼ì„¸ìš”."""
    )
    
    print(f"\nCEO ì´í‰:\n{ceo_briefing.get('analysis', '')}")
    print(f"\në‚´ì¼ í•  ì¼:\n{json.dumps(ceo_briefing.get('next_steps', []), ensure_ascii=False, indent=2)}")
    
    return {
        "projects": [project1, project2, project3],
        "results": [p1_planning, p2_execution, p3_ideation],
        "ceo_briefing": ceo_briefing,
        "total_tokens": engine.total_tokens
    }

# ì‹¤í–‰
if __name__ == "__main__":
    result = asyncio.run(demo_multi_project_company())
```

---

## ğŸ“ˆ 6. ê³ ê¸‰ ê¸°ëŠ¥: ììœ¨ ìš´ì˜ ì‹œìŠ¤í…œ

```python
class AutonomousCompany:
    """ì™„ì „ ììœ¨ ìš´ì˜ íšŒì‚¬ ì‹œìŠ¤í…œ"""
    
    def __init__(self, engine: GLMAgentEngine, pm: ProjectManager):
        self.engine = engine
        self.pm = pm
        self.daily_routines = []
        self.kpi_tracker = {}
        
    async def morning_standup(self):
        """ì•„ì¹¨ ìŠ¤íƒ ë“œì—… ë¯¸íŒ… (ìë™)"""
        
        print("\nâ˜€ï¸ === ì•„ì¹¨ ìŠ¤íƒ ë“œì—… ë¯¸íŒ… ===")
        
        # ê° ë¶€ì„œ ë¦¬ë”ê°€ í˜„í™© ë³´ê³ 
        leaders = ["plan_001", "dev_001", "mkt_001", "ops_001"]
        
        standup_reports = []
        for leader_id in leaders:
            report = await self.engine.run_agent(
                leader_id,
                "ì–´ì œ ìš°ë¦¬ ë¶€ì„œê°€ ì§„í–‰í•œ ì‘ì—…ê³¼ ì˜¤ëŠ˜ ê³„íš",
                "ê°„ë‹¨íˆ ìŠ¤íƒ ë“œì—… ë³´ê³ ë¥¼ í•´ì£¼ì„¸ìš” (ì–´ì œ/ì˜¤ëŠ˜/ì´ìŠˆ)"
            )
            standup_reports.append(report)
        
        # CEOê°€ ì´í‰
        ceo_comment = await self.engine.run_agent(
            "ceo_001",
            f"ë¶€ì„œë³„ í˜„í™©: {standup_reports}",
            "ì˜¤ëŠ˜ì˜ íšŒì‚¬ ìš°ì„ ìˆœìœ„ì™€ ë°©í–¥ì„ ì œì‹œí•´ì£¼ì„¸ìš”."
        )
        
        return {
            "reports": standup_reports,
            "ceo_direction": ceo_comment
        }
    
    async def weekly_retrospective(self):
        """ì£¼ê°„ íšŒê³  (ìë™)"""
        
        print("\nğŸ”„ === ì£¼ê°„ íšŒê³  ===")
        
        # ì „ì²´ í”„ë¡œì íŠ¸ í˜„í™©
        project_summary = {
            pid: {
                "name": p.name,
                "status": p.status.value,
                "progress": "ì§„í–‰ ì¤‘"
            }
            for pid, p in self.pm.projects.items()
        }
        
        # ë¸Œë ˆì¸íŒ€ì´ íšŒê³ 
        retrospective = await self.engine.run_department(
            DepartmentType.BRAIN_TRUST,
            f"ì´ë²ˆ ì£¼ í”„ë¡œì íŠ¸ í˜„í™©: {project_summary}",
            """ì´ë²ˆ ì£¼ë¥¼ ë˜ëŒì•„ë³´ë©°:
            1. ì˜í•œ ì  (Keep)
            2. ê°œì„ í•  ì  (Problem)
            3. ì‹œë„í•  ê²ƒ (Try)
            ì„ ì œì•ˆí•´ì£¼ì„¸ìš”."""
        )
        
        return retrospective
    
    async def auto_task_assignment(self, new_task_description: str):
        """ìë™ ì—…ë¬´ ë°°ì •"""
        
        # CEOê°€ ì—…ë¬´ë¥¼ ë¶„ì„í•˜ê³  ì ì ˆí•œ ë‹´ë‹¹ì ë°°ì •
        assignment = await self.engine.run_agent(
            "ceo_001",
            f"ìƒˆë¡œìš´ ì—…ë¬´: {new_task_description}",
            """ì´ ì—…ë¬´ë¥¼ ë¶„ì„í•˜ì—¬:
            1. ì–´ëŠ ë¶€ì„œê°€ ë‹´ë‹¹í•´ì•¼ í•˜ëŠ”ì§€
            2. ìš°ì„ ìˆœìœ„ëŠ” ì–´ë–»ê²Œ ë˜ëŠ”ì§€
            3. ì˜ˆìƒ ì†Œìš” ì‹œê°„ì€ ì–¼ë§ˆì¸ì§€
            ë¥¼ íŒë‹¨í•˜ê³  ì ì ˆí•œ ë‹´ë‹¹ìë¥¼ ë°°ì •í•´ì£¼ì„¸ìš”."""
        )
        
        return assignment
    
    async def crisis_management(self, crisis_description: str):
        """ìœ„ê¸° ê´€ë¦¬ (ê¸´ê¸‰ ëŒ€ì‘)"""
        
        print("\nğŸš¨ === ê¸´ê¸‰ ìƒí™© ë°œìƒ ===")
        
        # 1. CEO ì¦‰ê° ëŒ€ì‘
        ceo_response = await self.engine.run_agent(
            "ceo_001",
            f"ê¸´ê¸‰ ìƒí™©: {crisis_description}",
            "ì¦‰ì‹œ ëŒ€ì‘ ë°©ì•ˆì„ ì œì‹œí•˜ê³  í•„ìš”í•œ ë¶€ì„œë¥¼ ì†Œì§‘í•´ì£¼ì„¸ìš”."
        )
        
        # 2. ê´€ë ¨ ë¶€ì„œ ê¸´ê¸‰ íšŒì˜
        crisis_team = ["plan_001", "dev_001", "ops_001", "brain_002"]  # ë¹„ê´€ë¡ ì í¬í•¨
        
        crisis_meeting = []
        for agent_id in crisis_team:
            response = await self.engine.run_agent(
                agent_id,
                f"ìœ„ê¸° ìƒí™©: {crisis_description}\nCEO ì§€ì‹œ: {ceo_response}",
                "ë‹¹ì‹ ì˜ ì „ë¬¸ ë¶„ì•¼ì—ì„œ ìœ„ê¸° ëŒ€ì‘ ë°©ì•ˆì„ ì œì‹œí•´ì£¼ì„¸ìš”.",
                temperature=0.3  # ìœ„ê¸° ìƒí™©ì—ì„œëŠ” ë³´ìˆ˜ì ìœ¼ë¡œ
            )
            crisis_meeting.append(response)
        
        # 3. ìµœì¢… ì•¡ì…˜ í”Œëœ
        action_plan = await self.engine.run_agent(
            "ceo_001",
            f"ê¸´ê¸‰ íšŒì˜ ê²°ê³¼: {crisis_meeting}",
            "ìµœì¢… ìœ„ê¸° ëŒ€ì‘ ì•¡ì…˜ í”Œëœì„ ìˆ˜ë¦½í•´ì£¼ì„¸ìš”."
        )
        
        return {
            "ceo_initial": ceo_response,
            "team_input": crisis_meeting,
            "action_plan": action_plan
        }
```

---

## ğŸ’° 7. ë¹„ìš© ë° ì„±ëŠ¥ ìµœì í™”

```python
class CostOptimizer:
    """ë¹„ìš© ìµœì í™” ê´€ë¦¬ì"""
    
    def __init__(self):
        self.token_prices = {
            "glm-4": {
                "input": 0.10 / 1000,  # ìœ„ì•ˆí™” ê¸°ì¤€ (ì˜ˆì‹œ)
                "output": 0.10 / 1000
            }
        }
        self.monthly_budget = 5000  # ì›” ì˜ˆì‚° (ìœ„ì•ˆí™”)
        
    def calculate_cost(self, input_tokens: int, output_tokens: int) -> float:
        """API ë¹„ìš© ê³„ì‚°"""
        input_cost = input_tokens * self.token_prices["glm-4"]["input"]
        output_cost = output_tokens * self.token_prices["glm-4"]["output"]
        return input_cost + output_cost
    
    def estimate_monthly_cost(
        self,
        daily_projects: int,
        avg_agents_per_project: int,
        avg_tokens_per_agent: int
    ) -> Dict[str, float]:
        """ì›”ê°„ ë¹„ìš© ì¶”ì •"""
        
        daily_tokens = daily_projects * avg_agents_per_project * avg_tokens_per_agent
        monthly_tokens = daily_tokens * 30
        monthly_cost = self.calculate_cost(monthly_tokens // 2, monthly_tokens // 2)
        
        return {
            "daily_tokens": daily_tokens,
            "monthly_tokens": monthly_tokens,
            "monthly_cost_cny": monthly_cost,
            "monthly_cost_krw": monthly_cost * 190,  # í™˜ìœ¨ ì ìš©
            "vs_employee_cost": {
                "ai_cost": monthly_cost * 190,
                "human_20_employees": 20 * 3_500_000,  # ì›”ê¸‰ 350ë§Œì› * 20ëª…
                "savings": (20 * 3_500_000) - (monthly_cost * 190)
            }
        }

# ì‚¬ìš© ì˜ˆì‹œ
optimizer = CostOptimizer()
cost_estimate = optimizer.estimate_monthly_cost(
    daily_projects=3,
    avg_agents_per_project=8,
    avg_tokens_per_agent=2000
)

print("\nğŸ’° ì›”ê°„ ë¹„ìš© ë¶„ì„:")
print(f"  - AI ì¡°ì§ ë¹„ìš©: {cost_estimate['monthly_cost_krw']:,.0f}ì›")
print(f"  - ì‹¤ì œ ì¸ê±´ë¹„: {cost_estimate['vs_employee_cost']['human_20_employees']:,.0f}ì›")
print(f"  - ì ˆê°ì•¡: {cost_estimate['vs_employee_cost']['savings']:,.0f}ì›")
print(f"  - ì ˆê°ë¥ : {(cost_estimate['vs_employee_cost']['savings'] / cost_estimate['vs_employee_cost']['human_20_employees'] * 100):.1f}%")
```

---

## ğŸ¯ 8. ì‹¤ì „ í™œìš© ê°€ì´ë“œ

### ì‹œì‘í•˜ê¸°

```python
# 1. ì‹œìŠ¤í…œ ì´ˆê¸°í™”
api_key = "YOUR_GLM4_API_KEY"
engine = GLMAgentEngine(api_key)
pm = ProjectManager(engine)
company = AutonomousCompany(engine, pm)

# 2. ì•„ì¹¨ ìŠ¤íƒ ë“œì—… (ë§¤ì¼ ìë™)
standup = await company.morning_standup()

# 3. í”„ë¡œì íŠ¸ ìƒì„±
project, ceo_review, plan = await pm.create_project(
    name="ë‹¹ì‹ ì˜ í”„ë¡œì íŠ¸",
    project_type=ProjectType.PRODUCT_DEVELOPMENT,
    description="í”„ë¡œì íŠ¸ ì„¤ëª…",
    objectives=["ëª©í‘œ1", "ëª©í‘œ2"],
    priority=1
)

# 4. í”„ë¡œì íŠ¸ ì‹¤í–‰
result = await pm.execute_project_phase(project.project_id, "planning")

# 5. ìœ„ê¸° ë°œìƒ ì‹œ
if crisis_detected:
    response = await company.crisis_management("ìœ„ê¸° ìƒí™© ì„¤ëª…")
```

---

## ğŸ“š ê²°ë¡ : ì§„ì§œ íšŒì‚¬ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤

ì´ ì‹œìŠ¤í…œì€:

âœ… **20ëª…ì˜ ì „ë¬¸ê°€**ê°€ ê°ìì˜ ì—­í• ì„ ìˆ˜í–‰
âœ… **ì—¬ëŸ¬ í”„ë¡œì íŠ¸**ë¥¼ ë™ì‹œì— ì²˜ë¦¬
âœ… **ë¶€ì„œê°„ í˜‘ì—…**ì´ ìì—°ìŠ¤ëŸ½ê²Œ ì´ë£¨ì–´ì§
âœ… **ììœ¨ì  ì˜ì‚¬ê²°ì •**ìœ¼ë¡œ ë¹ ë¥¸ ì‹¤í–‰
âœ… **24ì‹œê°„ ë¬´íœ´** ìš´ì˜
âœ… **ì‹¤ì œ ì¸ê±´ë¹„ì˜ 1/100** ë¹„ìš©

### ë‹¤ìŒ ë‹¨ê³„
1. ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ (PostgreSQL)
2. ì›¹ ëŒ€ì‹œë³´ë“œ êµ¬ì¶• (FastAPI + React)
3. ìŠ¬ë™/ì´ë©”ì¼ ì•Œë¦¼ ì—°ë™
4. ìë™ ë³´ê³ ì„œ ìƒì„±
5. í•™ìŠµ í”¼ë“œë°± ë£¨í”„ êµ¬ì¶•

**ì´ì œ ë‹¹ì‹ ì˜ AI íšŒì‚¬ê°€ 24ì‹œê°„ ë‹¹ì‹ ì„ ìœ„í•´ ì¼í•©ë‹ˆë‹¤!** ğŸš€

---

## ğŸ¼ 9. ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°: ì§„ì§œ ìŠ¤íƒ€íŠ¸ì—…ì˜ ë‘ë‡Œ

### í•µì‹¬ ì² í•™
ì‹¤ì œ ìŠ¤íƒ€íŠ¸ì—…ì€ ë‹¨ìˆœíˆ "í• ì¼ â†’ ì‹¤í–‰ â†’ ì™„ë£Œ"ê°€ ì•„ë‹™ë‹ˆë‹¤.
- **ìˆ˜ì²œ ë²ˆì˜ ì‹œí–‰ì°©ì˜¤**
- **ëŠì„ì—†ëŠ” í”¼ë“œë°± ë£¨í”„**
- **ì‹œì¥ì˜ ëƒ‰í˜¹í•œ í˜„ì‹¤ ë°˜ì˜**
- **ë²„ê·¸ â†’ ìˆ˜ì • â†’ í…ŒìŠ¤íŠ¸ â†’ ì¬ë°°í¬**ì˜ ë¬´í•œ ë°˜ë³µ

ì´ê²ƒì´ ì§„ì§œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°ì˜ ì—­í• ì…ë‹ˆë‹¤.

```python
from typing import List, Dict, Any, Optional, Callable
import asyncio
from enum import Enum
from dataclasses import dataclass
from datetime import datetime
import traceback

class IterationPhase(Enum):
    """ë°˜ë³µ ê°œì„  ë‹¨ê³„"""
    INITIAL_BUILD = "initial_build"
    ERROR_DETECTION = "error_detection"
    DEBUG = "debug"
    FIX_IMPLEMENTATION = "fix_implementation"
    TESTING = "testing"
    VALIDATION = "validation"
    MARKET_FEEDBACK = "market_feedback"
    REFINEMENT = "refinement"

class TestResult(Enum):
    """í…ŒìŠ¤íŠ¸ ê²°ê³¼"""
    PASS = "pass"
    FAIL = "fail"
    PARTIAL = "partial"
    CRITICAL_ERROR = "critical_error"

@dataclass
class IterationLog:
    """ë°˜ë³µ ì‹¤í–‰ ë¡œê·¸"""
    iteration_number: int
    phase: IterationPhase
    agent_id: str
    input_data: Dict[str, Any]
    output_data: Dict[str, Any]
    errors: List[str]
    warnings: List[str]
    test_results: Dict[str, TestResult]
    duration: float
    timestamp: datetime

class MasterOrchestrator:
    """ë§ˆìŠ¤í„° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° - ì‹¤ì œ ìŠ¤íƒ€íŠ¸ì—…ì²˜ëŸ¼ ì‘ë™"""
    
    def __init__(self, engine: GLMAgentEngine, pm: ProjectManager):
        self.engine = engine
        self.pm = pm
        self.iteration_logs: Dict[str, List[IterationLog]] = {}
        self.error_database: Dict[str, List[Dict]] = {}
        self.market_feedback: Dict[str, List[Dict]] = {}
        self.success_patterns: Dict[str, List[Dict]] = {}
        
        # í’ˆì§ˆ ê¸°ì¤€
        self.quality_thresholds = {
            "min_test_coverage": 0.80,  # 80% í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€
            "max_error_rate": 0.05,  # 5% ì´í•˜ ì—ëŸ¬ìœ¨
            "min_market_score": 3.5,  # 5ì  ë§Œì ì— 3.5ì  ì´ìƒ
            "max_iterations": 100  # ìµœëŒ€ 100ë²ˆ ë°˜ë³µ
        }
    
    async def iterative_development_cycle(
        self,
        project_id: str,
        initial_spec: Dict[str, Any],
        max_iterations: int = 50
    ) -> Dict[str, Any]:
        """ë°˜ë³µì  ê°œë°œ ì‚¬ì´í´ - ì‹¤ì œ ìŠ¤íƒ€íŠ¸ì—…ì˜ ê°œë°œ í”„ë¡œì„¸ìŠ¤"""
        
        print("\n" + "="*70)
        print("ğŸ”„ ë°˜ë³µì  ê°œë°œ ì‚¬ì´í´ ì‹œì‘")
        print(f"í”„ë¡œì íŠ¸: {project_id}")
        print(f"ìµœëŒ€ ë°˜ë³µ íšŸìˆ˜: {max_iterations}")
        print("="*70 + "\n")
        
        iteration = 0
        current_version = None
        all_errors_resolved = False
        market_ready = False
        
        while iteration < max_iterations and not (all_errors_resolved and market_ready):
            iteration += 1
            print(f"\n{'='*70}")
            print(f"ğŸ”„ ë°˜ë³µ #{iteration}")
            print(f"{'='*70}")
            
            # ========== PHASE 1: ì´ˆê¸° ë¹Œë“œ ë˜ëŠ” ì¬ë¹Œë“œ ==========
            if iteration == 1:
                print("\nğŸ“¦ [Phase 1] ì´ˆê¸° ë¹Œë“œ ì¤‘...")
                current_version = await self._initial_build(project_id, initial_spec)
            else:
                print(f"\nğŸ”¨ [Phase 1] ë²„ì „ ì¬ë¹Œë“œ ì¤‘... (ë°˜ë³µ {iteration})")
                current_version = await self._rebuild_version(
                    project_id, 
                    current_version,
                    self.error_database.get(project_id, []),
                    self.market_feedback.get(project_id, [])
                )
            
            # ========== PHASE 2: ì—ëŸ¬ íƒì§€ (ë‹¤ì¸µ ê²€ì¦) ==========
            print("\nğŸ” [Phase 2] ì—ëŸ¬ íƒì§€ ì¤‘...")
            errors = await self._multi_layer_error_detection(
                project_id, 
                current_version,
                iteration
            )
            
            print(f"   ë°œê²¬ëœ ì—ëŸ¬: {len(errors['critical'])}ê°œ ì¹˜ëª…ì , {len(errors['major'])}ê°œ ì£¼ìš”, {len(errors['minor'])}ê°œ ê²½ë¯¸")
            
            # ========== PHASE 3: ì—ëŸ¬ ìˆ˜ì • ==========
            if errors['critical'] or errors['major']:
                print(f"\nğŸ”§ [Phase 3] ì—ëŸ¬ ìˆ˜ì • ì¤‘... ({len(errors['critical']) + len(errors['major'])}ê°œ)")
                fix_results = await self._orchestrated_error_fixing(
                    project_id,
                    current_version,
                    errors
                )
                
                # ì—ëŸ¬ ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸
                if project_id not in self.error_database:
                    self.error_database[project_id] = []
                self.error_database[project_id].extend(fix_results['fixed_errors'])
                
                current_version = fix_results['updated_version']
                print(f"   ìˆ˜ì • ì™„ë£Œ: {fix_results['fixed_count']}/{fix_results['total_errors']}")
            else:
                all_errors_resolved = True
                print("   âœ… ëª¨ë“  ì—ëŸ¬ í•´ê²° ì™„ë£Œ!")
            
            # ========== PHASE 4: ë² íƒ€ í…ŒìŠ¤íŠ¸ (ìë™) ==========
            print("\nğŸ§ª [Phase 4] ë² íƒ€ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ì¤‘...")
            test_results = await self._beta_testing(
                project_id,
                current_version,
                test_cases=self._generate_test_cases(current_version)
            )
            
            print(f"   í…ŒìŠ¤íŠ¸ í†µê³¼ìœ¨: {test_results['pass_rate']*100:.1f}%")
            print(f"   ì‹¤í–‰ëœ í…ŒìŠ¤íŠ¸: {test_results['total_tests']}ê°œ")
            
            if test_results['pass_rate'] < self.quality_thresholds['min_test_coverage']:
                print(f"   âš ï¸  ëª©í‘œ ì»¤ë²„ë¦¬ì§€ ë¯¸ë‹¬ (ëª©í‘œ: {self.quality_thresholds['min_test_coverage']*100}%)")
                all_errors_resolved = False
            
            # ========== PHASE 5: ì‹œì¥ ê²€ì¦ ==========
            if all_errors_resolved and iteration % 5 == 0:  # 5ë²ˆë§ˆë‹¤ ì‹œì¥ ê²€ì¦
                print("\nğŸŒ [Phase 5] ì‹œì¥ ê²€ì¦ ì¤‘...")
                market_validation = await self._market_reality_check(
                    project_id,
                    current_version,
                    iteration
                )
                
                # ì‹œì¥ í”¼ë“œë°± ì €ì¥
                if project_id not in self.market_feedback:
                    self.market_feedback[project_id] = []
                self.market_feedback[project_id].append(market_validation)
                
                print(f"   ì‹œì¥ ì ìˆ˜: {market_validation['market_score']}/5.0")
                print(f"   ì‚¬ìš©ì ë§Œì¡±ë„: {market_validation['user_satisfaction']*100:.1f}%")
                print(f"   ê²½ìŸë ¥: {market_validation['competitiveness']}")
                
                if market_validation['market_score'] >= self.quality_thresholds['min_market_score']:
                    market_ready = True
                    print("   âœ… ì‹œì¥ ì¶œì‹œ ì¤€ë¹„ ì™„ë£Œ!")
                else:
                    print(f"   âš ï¸  ì‹œì¥ ì¤€ë¹„ ë¯¸í¡ (ëª©í‘œ: {self.quality_thresholds['min_market_score']})")
            
            # ========== PHASE 6: íšŒê³  ë° í•™ìŠµ ==========
            print("\nğŸ”„ [Phase 6] íšŒê³  ë° íŒ¨í„´ í•™ìŠµ...")
            retrospective = await self._iteration_retrospective(
                project_id,
                iteration,
                current_version,
                errors,
                test_results,
                self.market_feedback.get(project_id, [])
            )
            
            # ì„±ê³µ íŒ¨í„´ ì €ì¥
            if retrospective['success_patterns']:
                if project_id not in self.success_patterns:
                    self.success_patterns[project_id] = []
                self.success_patterns[project_id].extend(retrospective['success_patterns'])
            
            # ========== ì§„í–‰ ìƒí™© ìš”ì•½ ==========
            print(f"\nğŸ“Š ë°˜ë³µ #{iteration} ìš”ì•½:")
            print(f"   - ì—ëŸ¬ í•´ê²°: {'âœ…' if all_errors_resolved else 'âŒ'}")
            print(f"   - í…ŒìŠ¤íŠ¸ í†µê³¼: {test_results['pass_rate']*100:.1f}%")
            print(f"   - ì‹œì¥ ì¤€ë¹„: {'âœ…' if market_ready else 'âŒ'}")
            print(f"   - ëˆ„ì  ê°œì„ ì‚¬í•­: {len(self.success_patterns.get(project_id, []))}ê°œ")
            
            # ì¡°ê¸° ì¢…ë£Œ ì¡°ê±´
            if all_errors_resolved and market_ready:
                print("\nğŸ‰ ì™„ë²½í•œ ì œí’ˆ ì™„ì„±!")
                break
        
        # ========== ìµœì¢… ê²°ê³¼ ==========
        return {
            "project_id": project_id,
            "final_version": current_version,
            "total_iterations": iteration,
            "all_errors_resolved": all_errors_resolved,
            "market_ready": market_ready,
            "total_errors_fixed": len(self.error_database.get(project_id, [])),
            "success_patterns_learned": len(self.success_patterns.get(project_id, [])),
            "final_test_coverage": test_results['pass_rate'],
            "final_market_score": self.market_feedback.get(project_id, [{}])[-1].get('market_score', 0) if self.market_feedback.get(project_id) else 0,
            "quality_achieved": all_errors_resolved and market_ready
        }
    
    async def _initial_build(self, project_id: str, spec: Dict[str, Any]) -> Dict[str, Any]:
        """ì´ˆê¸° ë¹Œë“œ"""
        
        # CTOê°€ ì „ì²´ ì•„í‚¤í…ì²˜ ì„¤ê³„
        architecture = await self.engine.run_agent(
            "dev_001",
            f"í”„ë¡œì íŠ¸ ìŠ¤í™: {json.dumps(spec, ensure_ascii=False)}",
            """ì™„ë²½í•œ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ë¥¼ ì„¤ê³„í•˜ì„¸ìš”:
            1. ê¸°ìˆ  ìŠ¤íƒ ì„ ì •
            2. ëª¨ë“ˆ êµ¬ì¡°
            3. ë°ì´í„° íë¦„
            4. API ì„¤ê³„
            5. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­"""
        )
        
        # ê°œë°œíŒ€ ë³‘ë ¬ ê°œë°œ
        dev_tasks = [
            ("dev_002", "ë°±ì—”ë“œ API êµ¬í˜„"),
            ("dev_003", "í”„ë¡ íŠ¸ì—”ë“œ UI êµ¬í˜„"),
            ("dev_004", "AI ëª¨ë¸ í†µí•©"),
        ]
        
        implementations = {}
        for agent_id, task_desc in dev_tasks:
            result = await self.engine.run_agent(
                agent_id,
                f"ì•„í‚¤í…ì²˜: {architecture}\në‹´ë‹¹: {task_desc}",
                f"{task_desc}ì„ êµ¬í˜„í•˜ê³  ìƒì„¸ ì½”ë“œ êµ¬ì¡°ë¥¼ ì œì‹œí•˜ì„¸ìš”."
            )
            implementations[agent_id] = result
        
        return {
            "version": "v0.1.0",
            "architecture": architecture,
            "implementations": implementations,
            "build_timestamp": datetime.now().isoformat()
        }
    
    async def _multi_layer_error_detection(
        self,
        project_id: str,
        version: Dict[str, Any],
        iteration: int
    ) -> Dict[str, List[Dict]]:
        """ë‹¤ì¸µ ì—ëŸ¬ íƒì§€ - ì—¬ëŸ¬ ê´€ì ì—ì„œ ë™ì‹œì— ê²€ì¦"""
        
        print("\n   ğŸ” ë‹¤ì¸µ ì—ëŸ¬ íƒì§€ ì‹œì‘...")
        
        # Layer 1: QA ì—”ì§€ë‹ˆì–´ì˜ ì²´ê³„ì  í…ŒìŠ¤íŠ¸
        qa_check = await self.engine.run_agent(
            "dev_005",
            f"í˜„ì¬ ë²„ì „: {json.dumps(version, ensure_ascii=False)[:1000]}...",
            """ì² ì €í•œ QA í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜í–‰í•˜ì„¸ìš”:
            1. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨ í•­ëª©
            2. í†µí•© í…ŒìŠ¤íŠ¸ ì´ìŠˆ
            3. ì—£ì§€ ì¼€ì´ìŠ¤ ë¬¸ì œ
            4. ì„±ëŠ¥ ë³‘ëª© ì§€ì 
            5. ë³´ì•ˆ ì·¨ì•½ì 
            
            ë°œê²¬ëœ ê° ì—ëŸ¬ì— ëŒ€í•´ ì‹¬ê°ë„(critical/major/minor)ë¥¼ ë¶„ë¥˜í•˜ì„¸ìš”."""
        )
        
        # Layer 2: ë¹„ê´€ë¡ ìì˜ ëƒ‰í˜¹í•œ ë¦¬ë·°
        pessimist_review = await self.engine.run_agent(
            "brain_002",
            f"í˜„ì¬ ë²„ì „: {json.dumps(version, ensure_ascii=False)[:1000]}...\nQA ë¦¬í¬íŠ¸: {qa_check}",
            """ê°€ì¥ ë¹„ê´€ì ì¸ ì‹œê°ìœ¼ë¡œ ëª¨ë“  ì ì¬ì  ë¬¸ì œë¥¼ ì°¾ì•„ë‚´ì„¸ìš”:
            1. ì‹¤íŒ¨í•  ê°€ëŠ¥ì„±ì´ ìˆëŠ” ë¶€ë¶„
            2. ì‚¬ìš©ìê°€ ë¶ˆë§Œì„ ê°€ì§ˆ ë§Œí•œ ìš”ì†Œ
            3. í™•ì¥ì„± ë¬¸ì œ
            4. ìœ ì§€ë³´ìˆ˜ ë‚œì´ë„
            
            "ì´ê²ƒì€ ì ˆëŒ€ ì‘ë™í•˜ì§€ ì•Šì„ ê²ƒ"ì´ë¼ëŠ” ë§ˆì¸ë“œë¡œ ë¶„ì„í•˜ì„¸ìš”."""
        )
        
        # Layer 3: ë…¼ë¦¬ ê²€ì¦ìì˜ ë…¼ë¦¬ì  ëª¨ìˆœ ì°¾ê¸°
        logic_check = await self.engine.run_agent(
            "qa_001",
            f"í˜„ì¬ ë²„ì „: {json.dumps(version, ensure_ascii=False)[:1000]}...",
            """ë…¼ë¦¬ì  ê´€ì ì—ì„œ ëª¨ìˆœê³¼ ì˜¤ë¥˜ë¥¼ ì°¾ìœ¼ì„¸ìš”:
            1. ë°ì´í„° íë¦„ì˜ ë…¼ë¦¬ì  ì˜¤ë¥˜
            2. ìƒíƒœ ê´€ë¦¬ ì¶©ëŒ
            3. ì¸ê³¼ê´€ê³„ ì˜¤ë¥˜
            4. ì¡°ê±´ë¬¸ ëˆ„ë½
            5. ì˜ˆì™¸ ì²˜ë¦¬ ë¯¸ë¹„"""
        )
        
        # Layer 4: ì‚¬ìš©ì ê´€ì  (ê³ ê°ì¤‘ì‹¬ê°€)
        user_perspective = await self.engine.run_agent(
            "plan_002",  # ì‹œì¥ì¡°ì‚¬ì›ì´ ì‚¬ìš©ì ëŒ€ë³€
            f"í˜„ì¬ ë²„ì „: {json.dumps(version, ensure_ascii=False)[:1000]}...",
            """ì‹¤ì œ ì‚¬ìš©ì ì…ì¥ì—ì„œ ì‚¬ìš©ì„± ë¬¸ì œë¥¼ ì°¾ìœ¼ì„¸ìš”:
            1. ì´í•´í•˜ê¸° ì–´ë ¤ìš´ UX
            2. ë¶ˆí¸í•œ ì‘ì—… íë¦„
            3. ëˆ„ë½ëœ í•„ìˆ˜ ê¸°ëŠ¥
            4. í˜¼ë€ìŠ¤ëŸ¬ìš´ ë©”ì‹œì§€"""
        )
        
        # ëª¨ë“  ì—ëŸ¬ í†µí•© ë° ë¶„ë¥˜
        all_errors = {
            "critical": [],
            "major": [],
            "minor": []
        }
        
        # ê° ë ˆì´ì–´ì˜ ê²°ê³¼ë¥¼ íŒŒì‹±í•˜ì—¬ í†µí•©
        for layer_name, layer_result in [
            ("QA", qa_check),
            ("Pessimist", pessimist_review),
            ("Logic", logic_check),
            ("User", user_perspective)
        ]:
            # ì—¬ê¸°ì„œëŠ” ê°„ë‹¨íˆ concerns í•„ë“œë¥¼ ì—ëŸ¬ë¡œ ê°„ì£¼
            concerns = layer_result.get('concerns', '')
            if 'critical' in concerns.lower() or 'ì¹˜ëª…ì ' in concerns:
                all_errors['critical'].append({
                    "source": layer_name,
                    "description": concerns,
                    "iteration": iteration
                })
            elif 'major' in concerns.lower() or 'ì£¼ìš”' in concerns or 'ì‹¬ê°' in concerns:
                all_errors['major'].append({
                    "source": layer_name,
                    "description": concerns,
                    "iteration": iteration
                })
            else:
                all_errors['minor'].append({
                    "source": layer_name,
                    "description": concerns,
                    "iteration": iteration
                })
        
        return all_errors
    
    async def _orchestrated_error_fixing(
        self,
        project_id: str,
        version: Dict[str, Any],
        errors: Dict[str, List[Dict]]
    ) -> Dict[str, Any]:
        """ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ëœ ì—ëŸ¬ ìˆ˜ì • - ì—¬ëŸ¬ ì—ì´ì „íŠ¸ê°€ í˜‘ë ¥"""
        
        print("\n   ğŸ”§ í˜‘ë ¥ì  ì—ëŸ¬ ìˆ˜ì • í”„ë¡œì„¸ìŠ¤...")
        
        fixed_errors = []
        failed_fixes = []
        
        # ì¹˜ëª…ì  ì—ëŸ¬ë¶€í„° ìˆ˜ì •
        all_errors_to_fix = errors['critical'] + errors['major']
        
        for idx, error in enumerate(all_errors_to_fix[:10], 1):  # ìµœëŒ€ 10ê°œì”©
            print(f"\n   [{idx}/{min(10, len(all_errors_to_fix))}] ì—ëŸ¬ ìˆ˜ì • ì¤‘...")
            
            # 1ë‹¨ê³„: CTOê°€ ìˆ˜ì • ì „ëµ ìˆ˜ë¦½
            fix_strategy = await self.engine.run_agent(
                "dev_001",
                f"ì—ëŸ¬: {error['description']}\ní˜„ì¬ ì½”ë“œ: {version}",
                "ì´ ì—ëŸ¬ë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•œ ì „ëµì„ ìˆ˜ë¦½í•˜ê³ , ì–´ë–¤ íŒ€ì›ì´ ì–´ë–¤ ë¶€ë¶„ì„ ìˆ˜ì •í•´ì•¼ í•˜ëŠ”ì§€ ì§€ì‹œí•˜ì„¸ìš”."
            )
            
            # 2ë‹¨ê³„: í•´ë‹¹ ê°œë°œìê°€ ì‹¤ì œ ìˆ˜ì •
            # ì—ëŸ¬ ì†ŒìŠ¤ì— ë”°ë¼ ì ì ˆí•œ ê°œë°œì ë°°ì •
            if 'backend' in error['description'].lower() or 'api' in error['description'].lower():
                developer = "dev_002"
            elif 'frontend' in error['description'].lower() or 'ui' in error['description'].lower():
                developer = "dev_003"
            else:
                developer = "dev_002"  # ê¸°ë³¸ê°’
            
            fix_implementation = await self.engine.run_agent(
                developer,
                f"ìˆ˜ì • ì „ëµ: {fix_strategy}\nì—ëŸ¬ ìƒì„¸: {error}",
                "ì „ëµì— ë”°ë¼ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì„¸ìš”. ë³€ê²½ ì‚¬í•­ì„ ëª…í™•íˆ ì„¤ëª…í•˜ì„¸ìš”."
            )
            
            # 3ë‹¨ê³„: QAê°€ ìˆ˜ì • ê²€ì¦
            fix_validation = await self.engine.run_agent(
                "dev_005",
                f"ì›ë˜ ì—ëŸ¬: {error}\nìˆ˜ì • ë‚´ìš©: {fix_implementation}",
                "ì´ ìˆ˜ì •ì´ ì—ëŸ¬ë¥¼ ì œëŒ€ë¡œ í•´ê²°í–ˆëŠ”ì§€ ê²€ì¦í•˜ê³ , ìƒˆë¡œìš´ ë¬¸ì œë¥¼ ë§Œë“¤ì§€ ì•Šì•˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”."
            )
            
            # ê²€ì¦ ê²°ê³¼ì— ë”°ë¼ ë¶„ë¥˜
            if 'pass' in str(fix_validation).lower() or 'ì„±ê³µ' in str(fix_validation):
                fixed_errors.append({
                    "original_error": error,
                    "fix_strategy": fix_strategy,
                    "implementation": fix_implementation,
                    "validation": fix_validation
                })
            else:
                failed_fixes.append({
                    "error": error,
                    "attempted_fix": fix_implementation,
                    "reason": fix_validation
                })
        
        # ë²„ì „ ì—…ë°ì´íŠ¸ (ì‹¤ì œë¡œëŠ” version dictë¥¼ ìˆ˜ì •)
        updated_version = version.copy()
        updated_version['version'] = f"v0.{len(fixed_errors)}.0"
        updated_version['fixes_applied'] = len(fixed_errors)
        updated_version['last_update'] = datetime.now().isoformat()
        
        return {
            "updated_version": updated_version,
            "fixed_errors": fixed_errors,
            "failed_fixes": failed_fixes,
            "fixed_count": len(fixed_errors),
            "total_errors": len(all_errors_to_fix)
        }
    
    async def _beta_testing(
        self,
        project_id: str,
        version: Dict[str, Any],
        test_cases: List[Dict[str, Any]]
    ) -> Dict[str, Any]:
        """ë² íƒ€ í…ŒìŠ¤íŠ¸ - ìˆ˜ë§Œ ë²ˆì˜ ìë™ í…ŒìŠ¤íŠ¸"""
        
        print(f"\n   ğŸ§ª {len(test_cases)}ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‹¤í–‰ ì¤‘...")
        
        test_results = {
            "passed": [],
            "failed": [],
            "partial": []
        }
        
        # í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ë³‘ë ¬ ì‹¤í–‰ (ì‹œë®¬ë ˆì´ì…˜)
        for idx, test_case in enumerate(test_cases[:20], 1):  # ìƒ˜í”Œ 20ê°œ
            
            # QA ì—”ì§€ë‹ˆì–´ê°€ ê° í…ŒìŠ¤íŠ¸ ì‹¤í–‰
            test_result = await self.engine.run_agent(
                "dev_005",
                f"í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤: {test_case}\ní˜„ì¬ ë²„ì „: {version.get('version')}",
                f"""ì´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ íŒì •í•˜ì„¸ìš”:
                - PASS: ëª¨ë“  ì˜ˆìƒ ê²°ê³¼ì™€ ì¼ì¹˜
                - FAIL: ì¹˜ëª…ì  ì˜¤ë¥˜ ë°œìƒ
                - PARTIAL: ì¼ë¶€ ê¸°ëŠ¥ë§Œ ì‘ë™
                
                ê²°ê³¼ì™€ í•¨ê»˜ ìƒì„¸ ë¡œê·¸ë¥¼ ì œê³µí•˜ì„¸ìš”.""",
                temperature=0.3  # í…ŒìŠ¤íŠ¸ëŠ” ì¼ê´€ì„±ì´ ì¤‘ìš”
            )
            
            # ê²°ê³¼ ë¶„ë¥˜
            result_text = str(test_result).lower()
            if 'pass' in result_text or 'í†µê³¼' in result_text:
                test_results["passed"].append(test_case)
            elif 'fail' in result_text or 'ì‹¤íŒ¨' in result_text:
                test_results["failed"].append(test_case)
            else:
                test_results["partial"].append(test_case)
        
        total_tests = len(test_results["passed"]) + len(test_results["failed"]) + len(test_results["partial"])
        pass_rate = len(test_results["passed"]) / total_tests if total_tests > 0 else 0
        
        return {
            "total_tests": total_tests,
            "passed": len(test_results["passed"]),
            "failed": len(test_results["failed"]),
            "partial": len(test_results["partial"]),
            "pass_rate": pass_rate,
            "detailed_results": test_results
        }
    
    def _generate_test_cases(self, version: Dict[str, Any]) -> List[Dict[str, Any]]:
        """í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìë™ ìƒì„±"""
        
        # ì‹¤ì œë¡œëŠ” ìˆ˜ë§Œ ê°œë¥¼ ìƒì„±í•˜ì§€ë§Œ ì—¬ê¸°ì„œëŠ” ìƒ˜í”Œ
        test_cases = [
            {"name": "ì •ìƒ_ë¡œê·¸ì¸", "type": "functional", "priority": "high"},
            {"name": "ëŒ€ëŸ‰_ë°ì´í„°_ì²˜ë¦¬", "type": "performance", "priority": "high"},
            {"name": "ë™ì‹œ_ì ‘ì†_1000ëª…", "type": "load", "priority": "high"},
            {"name": "SQL_ì¸ì ì…˜_ë°©ì–´", "type": "security", "priority": "critical"},
            {"name": "ì„¸ì…˜_ë§Œë£Œ_ì²˜ë¦¬", "type": "functional", "priority": "medium"},
            {"name": "íŒŒì¼_ì—…ë¡œë“œ_ì œí•œ", "type": "security", "priority": "high"},
            {"name": "API_ì‘ë‹µì‹œê°„_1ì´ˆì´ë‚´", "type": "performance", "priority": "high"},
            {"name": "ëª¨ë°”ì¼_ë°˜ì‘í˜•", "type": "ui", "priority": "medium"},
            {"name": "ì˜¤í”„ë¼ì¸_ëª¨ë“œ", "type": "functional", "priority": "low"},
            {"name": "ë‹¤êµ­ì–´_ì§€ì›", "type": "functional", "priority": "medium"},
            {"name": "ê²°ì œ_í”„ë¡œì„¸ìŠ¤", "type": "critical_path", "priority": "critical"},
            {"name": "ë°ì´í„°_ë°±ì—…_ë³µêµ¬", "type": "reliability", "priority": "high"},
            {"name": "ë¸Œë¼ìš°ì €_í˜¸í™˜ì„±", "type": "compatibility", "priority": "medium"},
            {"name": "ì—ëŸ¬_ë©”ì‹œì§€_í‘œì‹œ", "type": "ux", "priority": "low"},
            {"name": "ê¶Œí•œ_ê´€ë¦¬", "type": "security", "priority": "critical"},
        ]
        
        return test_cases
    
    async def _market_reality_check(
        self,
        project_id: str,
        version: Dict[str, Any],
        iteration: int
    ) -> Dict[str, Any]:
        """ì‹œì¥ì˜ ëƒ‰í˜¹í•œ í˜„ì‹¤ ì²´í¬"""
        
        print("\n   ğŸŒ ì‹œì¥ ê²€ì¦ - ëƒ‰í˜¹í•œ í˜„ì‹¤ ì§ë©´...")
        
        # 1. ì‹œì¥ì¡°ì‚¬ì›ì˜ ì‹œì¥ ë¶„ì„
        market_analysis = await self.engine.run_agent(
            "plan_002",
            f"í˜„ì¬ ì œí’ˆ: {version.get('version')}\në°˜ë³µ íšŸìˆ˜: {iteration}",
            """ì‹¤ì œ ì‹œì¥ ê´€ì ì—ì„œ ëƒ‰ì •í•˜ê²Œ í‰ê°€í•˜ì„¸ìš”:
            1. ê²½ìŸ ì œí’ˆ ëŒ€ë¹„ ê²½ìŸë ¥
            2. ì‚¬ìš©ìê°€ ëˆì„ ë‚¼ ë§Œí•œ ê°€ì¹˜
            3. ì‹œì¥ ì§„ì… íƒ€ì´ë°
            4. ì°¨ë³„í™” í¬ì¸íŠ¸
            5. ì˜ˆìƒ ì‹œì¥ ë°˜ì‘ (1-5ì )
            
            ì¢‹ê²Œ í‰ê°€í•˜ì§€ ë§ˆì„¸ìš”. í˜„ì‹¤ì ìœ¼ë¡œ í˜¹ë…í•˜ê²Œ í‰ê°€í•˜ì„¸ìš”."""
        )
        
        # 2. ë¹„ê´€ë¡ ìì˜ ì‹œì¥ ë¦¬ìŠ¤í¬ ë¶„ì„
        risk_analysis = await self.engine.run_agent(
            "brain_002",
            f"ì œí’ˆ ë²„ì „: {version}\nì‹œì¥ ë¶„ì„: {market_analysis}",
            """ì‹œì¥ì—ì„œ ì‹¤íŒ¨í•  ìˆ˜ ìˆëŠ” ëª¨ë“  ì´ìœ ë¥¼ ì°¾ìœ¼ì„¸ìš”:
            1. ì‹œì¥ì´ ì›í•˜ì§€ ì•Šì„ ì´ìœ 
            2. ê²½ìŸì‚¬ê°€ ë” ë‚˜ì€ ì´ìœ 
            3. íƒ€ì´ë°ì´ ì˜ëª»ëœ ì´ìœ 
            4. ê°€ê²© ê²½ìŸë ¥ ë¶€ì¡±
            5. ë§ˆì¼€íŒ… ì–´ë ¤ì›€"""
        )
        
        # 3. CMOì˜ í˜„ì‹¤ì ì¸ ë§ˆì¼€íŒ… í‰ê°€
        marketing_viability = await self.engine.run_agent(
            "mkt_001",
            f"ì œí’ˆ: {version}\nì‹œì¥ë¶„ì„: {market_analysis}\në¦¬ìŠ¤í¬: {risk_analysis}",
            """ë§ˆì¼€íŒ… ê´€ì ì—ì„œ í˜„ì‹¤ì ìœ¼ë¡œ í‰ê°€í•˜ì„¸ìš”:
            1. ì‹¤ì œ ê³ ê° í™•ë³´ ê°€ëŠ¥ì„±
            2. ë°”ì´ëŸ´ ê°€ëŠ¥ì„±
            3. ë§ˆì¼€íŒ… ë¹„ìš© ëŒ€ë¹„ íš¨ê³¼
            4. ë¸Œëœë”© ì „ëµì˜ ì‹¤í˜„ ê°€ëŠ¥ì„±"""
        )
        
        # 4. ì‚¬ì—…ë¶„ì„ê°€ì˜ ROI ê³„ì‚°
        roi_analysis = await self.engine.run_agent(
            "plan_003",
            f"ì œí’ˆ: {version}\nëª¨ë“  ë¶„ì„: {market_analysis}, {risk_analysis}, {marketing_viability}",
            """ëƒ‰ì •í•œ ìˆ«ìë¡œ í‰ê°€í•˜ì„¸ìš”:
            1. ì˜ˆìƒ ê°œë°œ ë¹„ìš©
            2. ì˜ˆìƒ ë§¤ì¶œ
            3. ì†ìµë¶„ê¸°ì  ì‹œì 
            4. ROI ì˜ˆì¸¡
            5. íˆ¬ì ëŒ€ë¹„ ê°€ì¹˜ (1-5ì )"""
        )
        
        # ì¢…í•© ì ìˆ˜ ê³„ì‚° (ê°„ë‹¨í•œ íœ´ë¦¬ìŠ¤í‹±)
        # ì‹¤ì œë¡œëŠ” ë” ì •êµí•œ íŒŒì‹± í•„ìš”
        market_score = 3.0  # ê¸°ë³¸ê°’
        
        # ê° ë¶„ì„ì—ì„œ ì ìˆ˜ ì¶”ì¶œ ì‹œë„
        for analysis in [market_analysis, roi_analysis]:
            analysis_text = str(analysis).lower()
            if '5ì ' in analysis_text or '5/5' in analysis_text:
                market_score = max(market_score, 5.0)
            elif '4ì ' in analysis_text or '4/5' in analysis_text:
                market_score = max(market_score, 4.0)
            elif '3ì ' in analysis_text or '3/5' in analysis_text:
                market_score = max(market_score, 3.0)
            elif '2ì ' in analysis_text or '2/5' in analysis_text:
                market_score = min(market_score, 2.0)
            elif '1ì ' in analysis_text or '1/5' in analysis_text:
                market_score = min(market_score, 1.0)
        
        return {
            "iteration": iteration,
            "market_score": market_score,
            "market_analysis": market_analysis,
            "risk_analysis": risk_analysis,
            "marketing_viability": marketing_viability,
            "roi_analysis": roi_analysis,
            "user_satisfaction": 0.7,  # ì‹œë®¬ë ˆì´ì…˜ ê°’
            "competitiveness": "medium" if market_score >= 3 else "low",
            "recommendation": "proceed" if market_score >= 3.5 else "improve",
            "timestamp": datetime.now().isoformat()
        }
    
    async def _iteration_retrospective(
        self,
        project_id: str,
        iteration: int,
        version: Dict[str, Any],
        errors: Dict[str, List[Dict]],
        test_results: Dict[str, Any],
        market_feedback: List[Dict]
    ) -> Dict[str, Any]:
        """ë°˜ë³µ íšŒê³  - ë¬´ì—‡ì„ ë°°ì› ëŠ”ê°€"""
        
        # ë¸Œë ˆì¸íŒ€ ì „ì²´ê°€ íšŒê³ 
        brain_retrospective = await self.engine.run_department(
            DepartmentType.BRAIN_TRUST,
            f"""ë°˜ë³µ #{iteration} ê²°ê³¼:
            - ì—ëŸ¬: {len(errors['critical'])}ê°œ ì¹˜ëª…ì , {len(errors['major'])}ê°œ ì£¼ìš”
            - í…ŒìŠ¤íŠ¸: {test_results['pass_rate']*100:.1f}% í†µê³¼
            - ì‹œì¥ ì ìˆ˜: {market_feedback[-1]['market_score'] if market_feedback else 'N/A'}
            """,
            """ì´ë²ˆ ë°˜ë³µì—ì„œ ë°°ìš´ êµí›ˆì„ ì •ë¦¬í•˜ì„¸ìš”:
            1. ë¬´ì—‡ì´ íš¨ê³¼ì ì´ì—ˆë‚˜? (Keep)
            2. ë¬´ì—‡ì´ ë¬¸ì œì˜€ë‚˜? (Problem)
            3. ë‹¤ìŒì—ëŠ” ë¬´ì—‡ì„ ì‹œë„í• ê¹Œ? (Try)
            4. ì„±ê³µ íŒ¨í„´ì´ ìˆë‹¤ë©´?"""
        )
        
        # ì„±ê³µ íŒ¨í„´ ì¶”ì¶œ
        success_patterns = []
        for agent_retro in brain_retrospective:
            if 'success' in str(agent_retro).lower() or 'ì„±ê³µ' in str(agent_retro):
                success_patterns.append({
                    "iteration": iteration,
                    "pattern": agent_retro.get('recommendation', ''),
                    "agent": agent_retro.get('agent_name', '')
                })
        
        return {
            "iteration": iteration,
            "retrospective": brain_retrospective,
            "success_patterns": success_patterns,
            "lessons_learned": len(brain_retrospective)
        }
    
    async def _rebuild_version(
        self,
        project_id: str,
        current_version: Dict[str, Any],
        error_history: List[Dict],
        market_feedback: List[Dict]
    ) -> Dict[str, Any]:
        """ì—ëŸ¬ì™€ í”¼ë“œë°±ì„ ë°˜ì˜í•œ ì¬ë¹Œë“œ"""
        
        # ê³¼ê±° ì—ëŸ¬ë¥¼ í•™ìŠµí•˜ì—¬ ê°œì„ 
        improvement_context = f"""
        í˜„ì¬ ë²„ì „: {current_version.get('version')}
        ê³¼ê±° ë°œê²¬ëœ ì—ëŸ¬ íŒ¨í„´: {len(error_history)}ê°œ
        ì‹œì¥ í”¼ë“œë°±: {market_feedback[-1] if market_feedback else 'ì—†ìŒ'}
        """
        
        # CTOê°€ ê°œì„  ê³„íš ìˆ˜ë¦½
        improvement_plan = await self.engine.run_agent(
            "dev_001",
            improvement_context,
            """ê³¼ê±° ì—ëŸ¬ì™€ ì‹œì¥ í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ ê°œì„  ê³„íšì„ ìˆ˜ë¦½í•˜ì„¸ìš”.
            ê°™ì€ ì‹¤ìˆ˜ë¥¼ ë°˜ë³µí•˜ì§€ ì•Šë„ë¡ êµ¬ì¡°ì  ê°œì„ ì´ í•„ìš”í•©ë‹ˆë‹¤."""
        )
        
        # ë²„ì „ ì—…ë°ì´íŠ¸
        new_version = current_version.copy()
        version_parts = current_version.get('version', 'v0.1.0').split('.')
        version_parts[1] = str(int(version_parts[1].replace('v', '')) + 1)
        new_version['version'] = '.'.join(version_parts)
        new_version['improvements'] = improvement_plan
        new_version['build_timestamp'] = datetime.now().isoformat()
        
        return new_version

# ========== ì‚¬ìš© ì˜ˆì‹œ ==========
async def demo_orchestrated_development():
    """ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ëœ ê°œë°œ í”„ë¡œì„¸ìŠ¤ ë°ëª¨"""
    
    api_key = "YOUR_GLM4_API_KEY"
    engine = GLMAgentEngine(api_key)
    pm = ProjectManager(engine)
    orchestrator = MasterOrchestrator(engine, pm)
    
    print("\n" + "="*70)
    print("ğŸ¼ ë§ˆìŠ¤í„° ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„° ì‹œì‘")
    print("   ì‹¤ì œ ìŠ¤íƒ€íŠ¸ì—…ì²˜ëŸ¼ ë°˜ë³µì  ê°œë°œì„ ì‹œì‘í•©ë‹ˆë‹¤")
    print("="*70)
    
    # í”„ë¡œì íŠ¸ ìŠ¤í™
    initial_spec = {
        "name": "AI ì±—ë´‡ ì„œë¹„ìŠ¤",
        "features": [
            "ìì—°ì–´ ì²˜ë¦¬",
            "ë‹¤êµ­ì–´ ì§€ì›",
            "ì‹¤ì‹œê°„ ì‘ë‹µ",
            "ì‚¬ìš©ì ë§ì¶¤í™”"
        ],
        "target_users": "ì¤‘ì†Œê¸°ì—… ê³ ê°ì„¼í„°",
        "budget": 50000000,  # 5ì²œë§Œì›
        "deadline": "3ê°œì›”"
    }
    
    # ë°˜ë³µì  ê°œë°œ ì‚¬ì´í´ ì‹¤í–‰
    result = await orchestrator.iterative_development_cycle(
        project_id="chatbot_001",
        initial_spec=initial_spec,
        max_iterations=30  # ìµœëŒ€ 30ë²ˆ ë°˜ë³µ
    )
    
    print("\n" + "="*70)
    print("ğŸ‰ ê°œë°œ ì™„ë£Œ!")
    print("="*70)
    print(f"\nâœ… ì´ ë°˜ë³µ íšŸìˆ˜: {result['total_iterations']}")
    print(f"âœ… ìˆ˜ì •ëœ ì—ëŸ¬: {result['total_errors_fixed']}ê°œ")
    print(f"âœ… í•™ìŠµëœ íŒ¨í„´: {result['success_patterns_learned']}ê°œ")
    print(f"âœ… ìµœì¢… í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€: {result['final_test_coverage']*100:.1f}%")
    print(f"âœ… ìµœì¢… ì‹œì¥ ì ìˆ˜: {result['final_market_score']}/5.0")
    print(f"âœ… í’ˆì§ˆ ëª©í‘œ ë‹¬ì„±: {'âœ… YES' if result['quality_achieved'] else 'âŒ NO'}")
    
    return result
```

---

## ğŸ”¥ 10. ì‹¤ì „ ìœ„ê¸° ê´€ë¦¬ ì‹œìŠ¤í…œ

```python
class CrisisManagementSystem:
    """ì‹¤ì‹œê°„ ìœ„ê¸° ê´€ë¦¬ - ìŠ¤íƒ€íŠ¸ì—…ì˜ ìƒì¡´ ì‹œìŠ¤í…œ"""
    
    def __init__(self, orchestrator: MasterOrchestrator):
        self.orchestrator = orchestrator
        self.crisis_history = []
        self.response_time_target = 300  # 5ë¶„ ì´ë‚´ ëŒ€ì‘
        
    async def detect_and_respond(self, monitoring_data: Dict[str, Any]):
        """ìœ„ê¸° ê°ì§€ ë° ì¦‰ê° ëŒ€ì‘"""
        
        # ìœ„ê¸° ê°ì§€ ì‹œê·¸ë„
        crisis_signals = {
            "server_down": monitoring_data.get("uptime", 100) < 95,
            "error_spike": monitoring_data.get("error_rate", 0) > 0.10,
            "user_complaints": monitoring_data.get("negative_feedback", 0) > 10,
            "security_breach": monitoring_data.get("suspicious_activity", False),
            "revenue_drop": monitoring_data.get("revenue_change", 0) < -0.20,
        }
        
        detected_crises = [k for k, v in crisis_signals.items() if v]
        
        if not detected_crises:
            return {"status": "normal", "message": "ì‹œìŠ¤í…œ ì •ìƒ"}
        
        print(f"\nğŸš¨ ìœ„ê¸° ê°ì§€: {detected_crises}")
        
        # ì¦‰ê° ëŒ€ì‘íŒ€ ì†Œì§‘
        crisis_response = await self._emergency_response(
            crisis_type=detected_crises[0],
            severity="critical" if len(detected_crises) > 2 else "high",
            context=monitoring_data
        )
        
        return crisis_response
    
    async def _emergency_response(
        self,
        crisis_type: str,
        severity: str,
        context: Dict[str, Any]
    ) -> Dict[str, Any]:
        """ê¸´ê¸‰ ëŒ€ì‘ í”„ë¡œí† ì½œ"""
        
        start_time = datetime.now()
        
        # 1. CEO ì¦‰ì‹œ í†µë³´ ë° ì§€ì‹œ
        ceo_directive = await self.orchestrator.engine.run_agent(
            "ceo_001",
            f"ê¸´ê¸‰ ìƒí™©: {crisis_type}\nì‹¬ê°ë„: {severity}\nìƒí™©: {context}",
            "ì¦‰ê°ì ì¸ ëŒ€ì‘ ë°©ì•ˆì„ ì§€ì‹œí•˜ì„¸ìš”. 30ì´ˆ ì•ˆì— ê²°ì •í•˜ì„¸ìš”.",
            temperature=0.2  # ìœ„ê¸°ìƒí™©ì—ì„œëŠ” ì°½ì˜ì„±ë³´ë‹¤ ì•ˆì •ì„±
        )
        
        # 2. í•´ë‹¹ ë¶€ì„œ ê¸´ê¸‰ íˆ¬ì…
        if "server" in crisis_type or "error" in crisis_type:
            team = ["dev_001", "dev_002", "dev_005"]  # CTO, ë°±ì—”ë“œ, QA
        elif "security" in crisis_type:
            team = ["dev_001", "ops_001", "dev_002"]  # CTO, COO, ë°±ì—”ë“œ
        elif "user" in crisis_type or "revenue" in crisis_type:
            team = ["mkt_001", "ops_001", "plan_001"]  # CMO, COO, ì „ëµ
        else:
            team = ["dev_001", "ops_001"]
        
        team_responses = []
        for agent_id in team:
            response = await self.orchestrator.engine.run_agent(
                agent_id,
                f"ê¸´ê¸‰ ì§€ì‹œ: {ceo_directive}\nìƒí™©: {context}",
                "ë‹¹ì‹ ì˜ ì „ë¬¸ ë¶„ì•¼ì—ì„œ ì¦‰ì‹œ ì·¨í•  ì•¡ì…˜ì„ ì œì‹œí•˜ê³  ì‹¤í–‰í•˜ì„¸ìš”.",
                temperature=0.2
            )
            team_responses.append(response)
        
        # 3. ì¦‰ê° ì‹¤í–‰ ë° ëª¨ë‹ˆí„°ë§
        action_plan = {
            "crisis_type": crisis_type,
            "severity": severity,
            "ceo_directive": ceo_directive,
            "team_actions": team_responses,
            "response_time": (datetime.now() - start_time).total_seconds(),
            "status": "contained" if (datetime.now() - start_time).total_seconds() < self.response_time_target else "delayed"
        }
        
        self.crisis_history.append(action_plan)
        
        return action_plan
```

---

## ğŸ“Š 11. ì„±ê³¼ ì¸¡ì • ë° ì§€ì†ì  ê°œì„ 

```python
class PerformanceTracker:
    """ì„±ê³¼ ì¶”ì  ë° ê°œì„  ì‹œìŠ¤í…œ"""
    
    def __init__(self, orchestrator: MasterOrchestrator):
        self.orchestrator = orchestrator
        self.kpi_history = {}
        
    async def weekly_performance_review(self):
        """ì£¼ê°„ ì„±ê³¼ ë¦¬ë·°"""
        
        print("\nğŸ“Š === ì£¼ê°„ ì„±ê³¼ ë¦¬ë·° ===\n")
        
        # ê° ë¶€ì„œë³„ KPI ë¦¬ë·°
        department_reviews = {}
        
        for dept in [DepartmentType.PLANNING, DepartmentType.DEVELOPMENT, 
                     DepartmentType.MARKETING, DepartmentType.OPERATIONS]:
            
            dept_review = await self.orchestrator.engine.run_department(
                dept,
                f"ì§€ë‚œ ì£¼ ìš°ë¦¬ ë¶€ì„œì˜ ì„±ê³¼",
                """ì§€ë‚œ ì£¼ ì„±ê³¼ë¥¼ KPI ê¸°ì¤€ìœ¼ë¡œ ìì²´ í‰ê°€í•˜ì„¸ìš”:
                1. ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„±ë„
                2. ì£¼ìš” ì„±ê³¼
                3. ê°œì„ ì´ í•„ìš”í•œ ë¶€ë¶„
                4. ë‹¤ìŒ ì£¼ ëª©í‘œ"""
            )
            
            department_reviews[dept.value] = dept_review
        
        # CEOê°€ ì „ì²´ ì´í‰
        ceo_review = await self.orchestrator.engine.run_agent(
            "ceo_001",
            f"ë¶€ì„œë³„ ë¦¬ë·°: {json.dumps(department_reviews, ensure_ascii=False, indent=2)[:2000]}",
            """ì „ì‚¬ ì„±ê³¼ë¥¼ ì´í‰í•˜ê³ :
            1. ì˜í•œ ë¶€ì„œ ì¹­ì°¬
            2. ê°œì„  í•„ìš” ë¶€ì„œ ì§€ì 
            3. ë‹¤ìŒ ì£¼ ì „ì‚¬ ì „ëµ
            4. ìì› ì¬ë°°ë¶„ í•„ìš”ì„±"""
        )
        
        return {
            "department_reviews": department_reviews,
            "ceo_review": ceo_review,
            "timestamp": datetime.now().isoformat()
        }
```

---

## ğŸ¯ ì‹¤ì „ í™œìš©: ì™„ì „ ìë™í™”ëœ ìŠ¤íƒ€íŠ¸ì—…

```python
async def run_autonomous_startup():
    """ì™„ì „ ìë™í™”ëœ ìŠ¤íƒ€íŠ¸ì—… ì‹¤í–‰"""
    
    # ì´ˆê¸°í™”
    api_key = "YOUR_GLM4_API_KEY"
    engine = GLMAgentEngine(api_key)
    pm = ProjectManager(engine)
    orchestrator = MasterOrchestrator(engine, pm)
    crisis_mgmt = CrisisManagementSystem(orchestrator)
    performance = PerformanceTracker(orchestrator)
    
    print("ğŸš€ ììœ¨ ìŠ¤íƒ€íŠ¸ì—… ê°€ë™!")
    
    # Day 1: í”„ë¡œì íŠ¸ ì‹œì‘
    result = await orchestrator.iterative_development_cycle(
        project_id="main_product",
        initial_spec={
            "name": "AI SaaS í”Œë«í¼",
            "features": ["AI ì±—ë´‡", "ìë™í™”", "ë¶„ì„"],
        },
        max_iterations=50
    )
    
    # ë§¤ì¼ ì‹¤í–‰ë˜ëŠ” ë£¨í‹´
    for day in range(1, 8):  # 1ì£¼ì¼
        print(f"\nğŸ“… Day {day}")
        
        # ì•„ì¹¨ ìŠ¤íƒ ë“œì—…
        await company.morning_standup()
        
        # ëª¨ë‹ˆí„°ë§ ë° ìœ„ê¸° ëŒ€ì‘
        monitoring = {
            "uptime": 99.5,
            "error_rate": 0.03,
            "revenue_change": 0.15
        }
        await crisis_mgmt.detect_and_respond(monitoring)
        
        # ì§€ì†ì  ê°œì„ 
        if day % 3 == 0:  # 3ì¼ë§ˆë‹¤
            await orchestrator.iterative_development_cycle(
                project_id="main_product",
                initial_spec=result['final_version'],
                max_iterations=10
            )
    
    # ì£¼ë§: ì£¼ê°„ ë¦¬ë·°
    await performance.weekly_performance_review()
    
    print("\nâœ… 1ì£¼ì¼ ììœ¨ ìš´ì˜ ì™„ë£Œ!")

# ì‹¤í–‰
if __name__ == "__main__":
    asyncio.run(run_autonomous_startup())
```

**ì´ì œ ì§„ì§œ ì‚´ì•„ìˆëŠ” ìŠ¤íƒ€íŠ¸ì—…ì…ë‹ˆë‹¤!** ğŸš€
